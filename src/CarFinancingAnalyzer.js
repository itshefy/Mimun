import React, { useState, useEffect, useRef } from 'react';
import DatePicker from 'react-datepicker';
import { registerLocale } from 'react-datepicker';
import he from 'date-fns/locale/he';
import "react-datepicker/dist/react-datepicker.css";
import './CarFinancingAnalyzer.css';

registerLocale('he', he);

const CarFinancingConversationAnalyzer = () => {
  const occupations = [
    'מהנדס תוכנה', 'מפתח Full Stack', 'מנהל מוצר', 'מעצב UX/UI', 'מנתח נתונים',
    'מנהל פרויקטים IT', 'ארכיטקט מערכות', 'מומחה אבטחת מידע', 'מפתח אפליקציות',
    'מהנדס DevOps', 'מנהל רשתות', 'מפתח בינה מלאכותית', 'מפתח Blockchain',
    'נציג שירות לקוחות', 'מנהל שירות לקוחות', 'יועץ מכירות', 'מנהל קשרי לקוחות',
    'נציג תמיכה טכנית', 'מנהל חשבונות לקוח', 'מומחה חווית לקוח',
    'רופא', 'אחות', 'רוקח', 'פיזיותרפיסט', 'פסיכולוג', 'רופא שיניים', 'דיאטן',
    'מרפא בעיסוק', 'וטרינר', 'מנתח', 'רדיולוג', 'אופטומטריסט',
    'עורך דין', 'שופט', 'פרקליט', 'נוטריון', 'יועץ משפטי', 'מתמחה במשפטים',
    'מורה', 'מרצה באוניברסיטה', 'גננת', 'מנהל בית ספר', 'יועץ חינוכי',
    'מאמן כושר', 'פיזיולוג ספורט', 'מדריך יוגה', 'תזונאי ספורט', 'שחקן מקצועי',
    'שף', 'קונדיטור', 'סו שף', 'מנהל מסעדה', 'סומלייה', 'ברמן',
    'מהנדס חשמל', 'מהנדס מכונות', 'מהנדס אזרחי', 'מהנדס כימיה', 'מהנדס תעשייה וניהול',
    'אדריכל', 'מעצב פנים', 'מתכנן ערים', 'מעצב נוף', 'מהנדס בניין',
    'עיתונאי', 'צלם', 'עורך וידאו', 'מפיק', 'כתב', 'קריין',
    'טייס', 'דייל', 'מהנדס תעופה', 'בקר טיסה', 'מכונאי מטוסים',
    'מנהל בנק', 'יועץ השקעות', 'אנליסט פיננסי', 'חתם ביטוח', 'סוכן נדל"ן',
    'מדען', 'חוקר', 'ביולוג', 'כימאי', 'פיזיקאי', 'מתמטיקאי',
    'אמן', 'מוזיקאי', 'שחקן', 'רקדן', 'סופר', 'צייר',
    'מנכ"ל', 'סמנכ"ל', 'מנהל משאבי אנוש', 'מנהל שיווק', 'מנהל כספים',
    'יזם', 'משקיע', 'מייסד סטארטאפ', 'אנג\'ל משקיע', 'מנטור עסקי'
  ];

  const carTypes = ['מיני', 'משפחתי', 'ג\'יפ', 'טנדר', 'רכב שטח', 'ספורט'];
  const fuelTypes = ['בנזין', 'היברידי', 'חשמלי'];

  const personalityTraits = {
    'מהנדס תוכנה': ['אנליטי', 'יצירתי', 'פותר בעיות', 'לוגי', 'מדויק'],
    'מפתח Full Stack': ['רב-תחומי', 'גמיש', 'לומד מהר', 'טכנולוגי', 'יצירתי'],
    'מנהל מוצר': ['אסטרטגי', 'תקשורתי', 'מנהיג', 'חדשני', 'אנליטי'],
    'מעצב UX/UI': ['יצירתי', 'אמפתי', 'פרפקציוניסט', 'חדשני', 'תקשורתי'],
    'מנתח נתונים': ['אנליטי', 'סקרן', 'מדייק', 'ביקורתי', 'מתקשר'],
    'מנהל פרויקטים IT': ['מאורגן', 'מנהיג', 'פותר בעיות', 'תקשורתי', 'גמיש'],
    'ארכיטקט מערכות': ['חשיבה מערכתית', 'חדשני', 'אסטרטגי', 'פותר בעיות', 'תקשורתי'],
    'מומחה אבטחת מידע': ['קפדן', 'אנליטי', 'עירני', 'אתי', 'מעודכן'],
    'מפתח אפליקציות': ['יצירתי', 'ממוקד משתמש', 'טכנולוגי', 'פותר בעיות', 'חדשני'],
    'מהנדס DevOps': ['אוטומציה', 'יעילות', 'פותר בעיות', 'תקשורתי', 'גמיש'],
    'מנהל רשתות': ['טכני', 'פותר בעיות', 'מאורגן', 'אחראי', 'תקשורתי'],
    'מפתח בינה מלאכותית': ['חדשני', 'אנליטי', 'סקרן', 'מתמטי', 'יצירתי'],
    'מפתח Blockchain': ['חדשני', 'אבטחתי', 'אנליטי', 'פותר בעיות', 'מעודכן'],
    'נציג שירות לקוחות': ['סבלני', 'אמפתי', 'תקשורתי', 'פותר בעיות', 'חיובי'],
    'מנהל שירות לקוחות': ['מנהיג', 'אמפתי', 'אסטרטגי', 'תקשורתי', 'פותר בעיות'],
    'יועץ מכירות': ['משכנע', 'תקשורתי', 'יוזם', 'אמפתי', 'מוטיבציוני'],
    'מנהל קשרי לקוחות': ['דיפלומטי', 'תקשורתי', 'אסטרטגי', 'אמפתי', 'מנהל יחסים'],
    'נציג תמיכה טכנית': ['סבלני', 'טכני', 'פותר בעיות', 'תקשורתי', 'רגוע'],
    'מנהל חשבונות לקוח': ['מדויק', 'מאורגן', 'תקשורתי', 'אחראי', 'אנליטי'],
    'מומחה חווית לקוח': ['אמפתי', 'חדשני', 'אנליטי', 'תקשורתי', 'יצירתי'],
    'רופא': ['אמפתי', 'מקצועי', 'רגוע', 'מדויק', 'תקשורתי'],
    'אחות': ['אמפתי', 'סבלני', 'מסור', 'תקשורתי', 'רב-משימתי'],
    'רוקח': ['מדויק', 'ידען', 'תקשורתי', 'אחראי', 'שירותי'],
    'פיזיותרפיסט': ['סבלני', 'מוטיבציוני', 'אמפתי', 'מקצועי', 'תקשורתי'],
    'פסיכולוג': ['אמפתי', 'מקשיב', 'אנליטי', 'סבלני', 'אובייקטיבי'],
    'רופא שיניים': ['מדויק', 'סבלני', 'תקשורתי', 'מרגיע', 'מקצועי'],
    'דיאטן': ['מוטיבציוני', 'ידען', 'אמפתי', 'תקשורתי', 'סבלני'],
    'מרפא בעיסוק': ['יצירתי', 'סבלני', 'אמפתי', 'מקצועי', 'מוטיבציוני'],
    'וטרינר': ['אוהב חיות', 'סבלני', 'מקצועי', 'רגוע', 'תקשורתי'],
    'מנתח': ['מדויק', 'רגוע תחת לחץ', 'מקצועי', 'תקשורתי', 'אחראי'],
    'רדיולוג': ['אנליטי', 'מדויק', 'טכנולוגי', 'תקשורתי', 'מקצועי'],
    'אופטומטריסט': ['מדויק', 'סבלני', 'תקשורתי', 'טכני', 'שירותי'],
    'עורך דין': ['אנליטי', 'תקשורתי', 'אתי', 'פותר בעיות', 'משכנע'],
    'שופט': ['אובייקטיבי', 'אנליטי', 'אתי', 'סבלני', 'החלטי'],
    'פרקליט': ['משכנע', 'אנליטי', 'תקשורתי', 'אסטרטגי', 'תחרותי'],
    'נוטריון': ['מדויק', 'אמין', 'אתי', 'תקשורתי', 'מקצועי'],
    'יועץ משפטי': ['אנליטי', 'אסטרטגי', 'תקשורתי', 'אתי', 'דיסקרטי'],
    'מתמחה במשפטים': ['שאפתן', 'חרוץ', 'לומד מהר', 'אנליטי', 'תקשורתי'],
    'מורה': ['סבלני', 'מעורר השראה', 'תקשורתי', 'יצירתי', 'אמפתי'],
    'מרצה באוניברסיטה': ['אנליטי', 'תקשורתי', 'ידען', 'מחקרי', 'מעורר השראה'],
    'גננת': ['סבלני', 'יצירתי', 'אמפתי', 'אנרגטי', 'מטפח'],
    'מנהל בית ספר': ['מנהיג', 'אסטרטגי', 'תקשורתי', 'פותר בעיות', 'מעורר השראה'],
    'יועץ חינוכי': ['אמפתי', 'מקשיב', 'תומך', 'אנליטי', 'תקשורתי'],
    'מאמן כושר': ['מוטיבציוני', 'אנרגטי', 'סבלני', 'תקשורתי', 'מקצועי'],
    'פיזיולוג ספורט': ['אנליטי', 'מקצועי', 'תקשורתי', 'מחקרי', 'מוטיבציוני'],
    'מדריך יוגה': ['רגוע', 'סבלני', 'מעורר השראה', 'תקשורתי', 'אמפתי'],
    'תזונאי ספורט': ['ידען', 'מוטיבציוני', 'אנליטי', 'תקשורתי', 'יצירתי'],
    'שחקן מקצועי': ['תחרותי', 'משמעת עצמית', 'מוטיבציוני', 'עבודת צוות', 'פיזי'],
    'שף': ['יצירתי', 'מדויק', 'עמיד בלחץ', 'מנהיג', 'חושי'],
    'קונדיטור': ['יצירתי', 'מדויק', 'סבלני', 'פרפקציוניסט', 'אסתטי'],
    'סו שף': ['מנהיג', 'יעיל', 'יצירתי', 'עמיד בלחץ', 'עבודת צוות'],
    'מנהל מסעדה': ['מנהיג', 'פותר בעיות', 'תקשורתי', 'יעיל', 'שירותי'],
    'סומלייה': ['חושי', 'ידען', 'תקשורתי', 'שירותי', 'סבלני'],
    'ברמן': ['חברותי', 'יעיל', 'יצירתי', 'רב-משימתי', 'עמיד בלחץ'],
    'מהנדס חשמל': ['אנליטי', 'טכני', 'פותר בעיות', 'יצירתי', 'מדויק'],
    'מהנדס מכונות': ['אנליטי', 'טכני', 'יצירתי', 'פותר בעיות', 'מדויק'],
    'מהנדס אזרחי': ['אנליטי', 'מדויק', 'פרקטי', 'אחראי', 'יצירתי'],
    'מהנדס כימיה': ['אנליטי', 'מדויק', 'סקרן', 'מחקרי', 'בטיחותי'],
    'מהנדס תעשייה וניהול': ['אנליטי', 'יעיל', 'מנהיג', 'פותר בעיות', 'אסטרטגי'],
    'אדריכל': ['יצירתי', 'חזוני', 'טכני', 'אסתטי', 'פרקטי'],
    'מעצב פנים': ['יצירתי', 'אסתטי', 'תקשורתי', 'פרקטי', 'קשוב ללקוח'],
    'מתכנן ערים': ['אסטרטגי', 'חזוני', 'אנליטי', 'סביבתי', 'תקשורתי'],
    'מעצב נוף': ['יצירתי', 'סביבתי', 'טכני', 'אסתטי', 'פרקטי'],
    'מהנדס בניין': ['טכני', 'מדויק', 'אחראי', 'פותר בעיות', 'בטיחותי'],
    'עיתונאי': ['סקרן', 'תקשורתי', 'אנליטי', 'אובייקטיבי', 'יצירתי'],
    'צלם': ['יצירתי', 'טכני', 'סבלני', 'קשוב לפרטים', 'אסתטי'],
    'עורך וידאו': ['יצירתי', 'טכני', 'סבלני', 'קשוב לפרטים', 'חזוני'],
    'מפיק': ['מנהיג', 'יצירתי', 'פותר בעיות', 'תקשורתי', 'אסטרטגי'],
    'כתב': ['סקרן', 'תקשורתי', 'אנליטי', 'יצירתי', 'עמיד בלחץ'],
    'קריין': ['קולי', 'תקשורתי', 'מקצועי', 'רגוע', 'מדויק'],
    'טייס': ['רגוע תחת לחץ', 'מדויק', 'אחראי', 'טכני', 'החלטי'],
    'דייל': ['שירותי', 'סבלני', 'תקשורתי', 'רב-תרבותי', 'רגוע תחת לחץ'],
    'מהנדס תעופה': ['אנליטי', 'טכני', 'חדשני', 'מדויק', 'בטיחותי'],
    'בקר טיסה': ['רגוע תחת לחץ', 'מדויק', 'תקשורתי', 'אחראי', 'ריכוז גבוה'],
    'מכונאי מטוסים': ['טכני', 'מדויק', 'אחראי', 'פותר בעיות', 'בטיחותי'],
    'מנהל בנק': ['אחראי', 'אנליטי', 'תקשורתי', 'אתי', 'מנהיג'],
    'יועץ השקעות': ['אנליטי', 'תקשורתי', 'אתי', 'עדכני', 'אסטרטגי'],
    'אנליסט פיננסי': ['אנליטי', 'מדויק', 'עדכני', 'אסטרטגי', 'תקשורתי'],
    'חתם ביטוח': ['אנליטי', 'מדויק', 'אתי', 'תקשורתי', 'פותר בעיות'],
    'סוכן נדל"ן': ['תקשורתי', 'משכנע', 'יוזם', 'סבלני', 'אסטרטגי'],
    'מדען': ['סקרן', 'אנליטי', 'מדויק', 'מחקרי', 'ביקורתי'],
    'חוקר': ['סקרן', 'אנליטי', 'מתודי', 'סבלני', 'ביקורתי'],
    'ביולוג': ['סקרן', 'מדויק', 'אנליטי', 'סביבתי', 'מחקרי'],
    'כימאי': ['אנליטי', 'מדויק', 'סקרן', 'בטיחותי', 'מחקרי'],
    'פיזיקאי': ['אנליטי', 'מתמטי', 'סקרן', 'תיאורטי', 'מחקרי'],
    'מתמטיקאי': ['אנליטי', 'לוגי', 'מדויק', 'מופשט', 'פותר בעיות'],
    'אמן': ['יצירתי', 'רגיש', 'אקספרסיבי', 'חזוני', 'אינדיבידואליסט'],
    'מוזיקאי': ['יצירתי', 'רגיש', 'מוזיקלי', 'מקצועי', 'תקשורתי'],
    'שחקן': ['אקספרסיבי', 'רגיש', 'גמיש', 'תקשורתי', 'יצירתי'],
    'רקדן': ['אתלטי', 'אקספרסיבי', 'יצירתי', 'משמעת עצמית', 'פיזי'],
    'סופר': ['יצירתי', 'אנליטי', 'סבלני', 'מתבודד', 'רגיש'],
    'צייר': ['יצירתי', 'חזוני', 'סבלני', 'קשוב לפרטים', 'אסתטי'],
    'מנכ"ל': ['מנהיג', 'אסטרטגי', 'החלטי', 'תקשורתי', 'חזוני'],
    'סמנכ"ל': ['מנהיג', 'אסטרטגי', 'תקשורתי', 'יעיל', 'תומך'],
    'מנהל משאבי אנוש': ['אמפתי', 'תקשורתי', 'אסטרטגי', 'פותר בעיות', 'דיפלומטי'],
    'מנהל שיווק': ['יצירתי', 'אסטרטגי', 'תקשורתי', 'אנליטי', 'חדשני'],
    'מנהל כספים': ['אנליטי', 'מדויק', 'אסטרטגי', 'אתי', 'החלטי'],
    'יזם': ['חדשני', 'נוטל סיכונים', 'אסטרטגי', 'גמיש', 'עמיד בלחץ'],
    'משקיע': ['אנליטי', 'אסטרטגי', 'נוטל סיכונים', 'סבלני', 'החלטי'],
    'מייסד סטארטאפ': ['חדשני', 'יזמי', 'עמיד בלחץ', 'גמיש', 'חזוני'],
    'אנג\'ל משקיע': ['אסטרטגי', 'מנטור', 'נוטל סיכונים', 'חזוני', 'מנוסה'],
    'מנטור עסקי': ['מנוסה', 'תקשורתי', 'אסטרטגי', 'אמפתי', 'מעורר השראה']
  };

  const carDatabase = {
    'מיני': {
      'בנזין': [
        { name: 'טויוטה יאריס', price: 120000, features: ['חסכוני בדלק', 'אמינות גבוהה', 'קל לתמרון', 'עלויות אחזקה נמוכות', 'בטיחות טובה'], description: 'טויוטה יאריס היא רכב מיני פופולרי הידוע באמינותו הגבוהה וצריכת הדלק הנמוכה. היא מציעה נוחות נהיגה טובה ומרחב פנימי מפתיע לגודלה.' },
        { name: 'מאזדה 2', price: 125000, features: ['עיצוב מודרני', 'חווית נהיגה ספורטיבית', 'מערכות בטיחות מתקדמות', 'איכות גימור גבוהה', 'חסכוני בדלק'], description: 'מאזדה 2 מציעה חווית נהיגה ספורטיבית ומהנה, עם עיצוב מודרני ואיכות גימור גבוהה. היא מצוידת במערכות בטיחות מתקדמות וחסכונית בצריכת דלק.' },
        { name: 'פולקסווגן פולו', price: 130000, features: ['איכות גרמנית', 'מרווחת יחסית', 'נוחות נסיעה', 'מנועים חזקים', 'ערך שוק גבוה'], description: 'פולקסווגן פולו מביאה איכות גרמנית לקטגוריית המיני. היא מציעה מרחב פנימי נדיב, נוחות נסיעה טובה ומנועים חזקים יחסית. ערך השוק הגבוה שלה הופך אותה להשקעה טובה.' },
        { name: 'סוזוקי סוויפט', price: 115000, features: ['קלה לתמרון', 'חסכונית בדלק', 'עיצוב צעיר', 'אמינות יפנית', 'מחיר אטרקטיבי'], description: 'סוזוקי סוויפט היא בחירה מצוינת למי שמחפש רכב עירוני קל לתמרון וחסכוני. היא מציעה עיצוב צעיר ורענן, אמינות יפנית ידועה ומחיר אטרקטיבי.' },
        { name: 'קיה פיקנטו', price: 110000, features: ['מחיר נוח', 'חסכונית בדלק', 'קלה לחניה', 'אחריות יצרן ארוכה', 'עיצוב מודרני'], description: 'קיה פיקנטו היא אחת האפשרויות המשתלמות ביותר בקטגוריית המיני. היא מציעה מחיר נוח, חסכוניות בדלק וקלות בחניה. האחריות הארוכה של קיה מוסיפה שקט נפשי.' }
      ],
      'היברידי': [
        { name: 'טויוטה יאריס היברידית', price: 140000, features: ['חסכונית במיוחד', 'זיהום אוויר נמוך', 'אמינות גבוהה', 'עלויות אחזקה נמוכות', 'טכנולוגיה מתקדמת'], description: 'טויוטה יאריס היברידית משלבת את היתרונות של יאריס הרגילה עם מערכת הנעה היברידית חסכונית במיוחד. היא מציעה צריכת דלק נמוכה, זיהום אוויר מופחת ועלויות אחזקה נמוכות.' },
        { name: 'הונדה ג\'אז היברידית', price: 145000, features: ['מרחב פנימי גדול', 'גמישות בסידור המושבים', 'חסכונית בדלק', 'אמינות יפנית', 'נוחות נסיעה'], description: 'הונדה ג\'אז היברידית מציעה מרחב פנימי מפתיע לגודלה, עם אפשרויות רבות לסידור המושבים. היא חסכונית מאוד בדלק ומציעה את האמינות היפנית הידועה של הונדה.' },
        { name: 'סוזוקי סוויפט היברידית', price: 135000, features: ['מחיר אטרקטיבי להיברידית', 'קלה לתמרון','חסכונית בדלק', 'עיצוב צעיר', 'טכנולוגיה ירוקה'], description: 'סוזוקי סוויפט היברידית מציעה את כל היתרונות של הגרסה הרגילה, עם תוספת של מערכת הנעה היברידית חסכונית. היא מציעה מחיר אטרקטיבי יחסית לרכב היברידי, קלות תמרון ועיצוב צעיר.' },
        { name: 'רנו קליאו E-TECH', price: 150000, features: ['טכנולוגיית E-TECH חדשנית', 'צריכת דלק נמוכה', 'ביצועים טובים', 'עיצוב אירופאי מודרני', 'מערכות בטיחות מתקדמות'], description: 'רנו קליאו E-TECH מביאה את הטכנולוגיה ההיברידית החדשנית של רנו לקטגוריית המיני. היא מציעה צריכת דלק נמוכה במיוחד, ביצועים טובים ועיצוב אירופאי מודרני.' },
        { name: 'פיאט 500 היברידית', price: 155000, features: ['עיצוב איטלקי אייקוני', 'חסכונית בדלק', 'קלה לחניה', 'אבזור עשיר', 'זיהום אוויר נמוך'], description: 'פיאט 500 היברידית משלבת את העיצוב האייקוני והאהוב של פיאט 500 עם מערכת הנעה היברידית חסכונית. היא מציעה קלות בחניה, אבזור עשיר וזיהום אוויר נמוך.' }
      ],
      'חשמלי': [
        { name: 'רנו זואי', price: 160000, features: ['טווח נסיעה ארוך', 'עלות תפעול נמוכה', 'זיהום אפס', 'תאוצה מהירה', 'שקטה במיוחד'], description: 'רנו זואי היא אחת המכוניות החשמליות הפופולריות באירופה. היא מציעה טווח נסיעה ארוך יחסית, עלויות תפעול נמוכות ונסיעה שקטה ונעימה.' },
        { name: 'פיאט 500e', price: 170000, features: ['עיצוב רטרו מודרני', 'ביצועים טובים', 'טעינה מהירה', 'טכנולוגיה מתקדמת', 'זיהום אפס'], description: 'פיאט 500e היא הגרסה החשמלית של הפיאט 500 האייקונית. היא משלבת עיצוב רטרו מודרני עם טכנולוגיה חשמלית מתקדמת, ומציעה ביצועים טובים וטעינה מהירה.' },
        { name: 'מיני קופר SE', price: 180000, features: ['ביצועים ספורטיביים', 'עיצוב אייקוני', 'איכות פרימיום', 'טכנולוגיה מתקדמת', 'טעינה מהירה'], description: 'מיני קופר SE היא הגרסה החשמלית של מיני קופר האהובה. היא מציעה ביצועים ספורטיביים, עיצוב אייקוני ואיכות פרימיום, יחד עם היתרונות של הנעה חשמלית.' },
        { name: 'הונדה E', price: 175000, features: ['עיצוב ייחודי ומודרני', 'טכנולוגיה חדשנית', 'מסכי תצוגה רחבים', 'נוחות נהיגה', 'מערכות בטיחות מתקדמות'], description: 'הונדה E היא מכונית חשמלית עם עיצוב ייחודי ומודרני. היא מצטיינת בטכנולוגיה חדשנית, כולל מסכי תצוגה רחבים ומערכות בטיחות מתקדמות.' },
        { name: 'פיג\'ו e-208', price: 165000, features: ['עיצוב מודרני ואלגנטי', 'טווח נסיעה טוב', 'ביצועים מרשימים', 'איכות גימור גבוהה', 'טעינה מהירה'], description: 'פיג\'ו e-208 היא הגרסה החשמלית של ה-208 הפופולרית. היא מציעה עיצוב מודרני ואלגנטי, טווח נסיעה טוב וביצועים מרשימים, יחד עם איכות גימור גבוהה.' }
      ],
      'משומש': [
        { name: 'טויוטה יאריס 2018', price: 80000, features: ['אמינות גבוהה', 'חסכוני בדלק', 'עלויות אחזקה נמוכות', 'מצב מכני מצוין', 'ערך שוק יציב'], description: 'טויוטה יאריס משנת 2018 היא אפשרות מצוינת לרכב משומש. היא ידועה באמינותה הגבוהה, צריכת הדלק הנמוכה ועלויות האחזקה הנמוכות.' },
        { name: 'מאזדה 2 2019', price: 85000, features: ['עיצוב מודרני', 'חווית נהיגה ספורטיבית', 'מערכות בטיחות', 'מצב כללי טוב', 'ביצועים טובים'], description: 'מאזדה 2 משנת 2019 מציעה עיצוב מודרני וחווית נהיגה ספורטיבית. היא מגיעה עם מערכות בטיחות ובמצב כללי טוב.' },
        { name: 'פולקסווגן פולו 2017', price: 75000, features: ['איכות גרמנית', 'נוחות נסיעה', 'מנוע חזק', 'תחזוקה טובה', 'מרווחת יחסית'], description: 'פולקסווגן פולו משנת 2017 מביאה איכות גרמנית במחיר משתלם. היא מציעה נוחות נסיעה טובה, מנוע חזק יחסית ומרווח פנימי נדיב.' },
        { name: 'סוזוקי סוויפט 2020', price: 90000, features: ['קלה לתמרון', 'חסכונית בדלק', 'כמעט חדשה', 'אחריות יצרן נותרת', 'מחיר אטרקטיבי'], description: 'סוזוקי סוויפט משנת 2020 היא כמעט חדשה. היא קלה לתמרון, חסכונית בדלק ועדיין נהנית מאחריות יצרן.' },
        { name: 'קיה פיקנטו 2016', price: 60000, features: ['מחיר נוח', 'חסכונית בדלק', 'קלה לחניה', 'אמינות טובה', 'עלויות אחזקה נמוכות'], description: 'קיה פיקנטו משנת 2016 היא אפשרות משתלמת לרכב עירוני. היא מציעה מחיר נוח, חסכוניות בדלק וקלות בחניה.' }
      ]
    },
    'משפחתי': {
      'בנזין': [
        { name: 'סקודה אוקטביה', price: 150000, features: ['מרווחת', 'תא מטען גדול', 'חסכונית', 'איכות בנייה טובה', 'נוחות נסיעה'], description: 'סקודה אוקטביה היא רכב משפחתי מרווח במיוחד עם תא מטען ענק. היא ידועה באיכות הבנייה הטובה שלה, בחסכוניות ובנוחות הנסיעה.' },
        { name: 'מאזדה 3', price: 155000, features: ['עיצוב מרשים', 'איכות גימור גבוהה', 'חווית נהיגה ספורטיבית', 'בטיחות מתקדמת', 'מנועים חזקים'], description: 'מאזדה 3 מציעה עיצוב מרשים ואיכות גימור גבוהה. היא ידועה בחווית הנהיגה הספורטיבית שלה, במערכות הבטיחות המתקדמות ובמנועים החזקים.' },
        { name: 'טויוטה קורולה', price: 145000, features: ['אמינות גבוהה', 'חסכונית בדלק', 'ערך שוק גבוה', 'נוחות נסיעה', 'בטיחות טובה'], description: 'טויוטה קורולה היא סמל לאמינות וחסכוניות. היא מציעה נוחות נסיעה טובה, בטיחות גבוהה וערך שוק גבוה לאורך זמן.' },
        { name: 'הונדה סיוויק', price: 160000, features: ['ביצועים טובים', 'תא נוסעים מרווח', 'עיצוב ספורטיבי', 'חסכונית בדלק', 'אמינות גבוהה'], description: 'הונדה סיוויק מציעה שילוב של ביצועים טובים ותא נוסעים מרווח. היא מתאפיינת בעיצוב ספורטיבי, חסכוניות בדלק ואמינות גבוהה.' },
        { name: 'פולקסווגן גולף', price: 165000, features: ['איכות גרמנית', 'טכנולוגיה מתקדמת', 'נוחות נהיגה', 'מגוון מנועים', 'ערך שוק גבוה'], description: 'פולקסווגן גולף היא מכונית משפחתית עם איכות גרמנית ידועה. היא מציעה טכנולוגיה מתקדמת, נוחות נהיגה גבוהה ומגוון רחב של מנועים לבחירה.' }
      ],
      'היברידי': [
        { name: 'טויוטה קורולה היברידית', price: 170000, features: ['חסכונית במיוחד', 'אמינות גבוהה', 'טכנולוגיה היברידית מוכחת', 'נוחות נסיעה', 'ערך שוק גבוה'], description: 'טויוטה קורולה היברידית משלבת את האמינות הידועה של קורולה עם טכנולוגיה היברידית מוכחת. היא חסכונית במיוחד, נוחה לנסיעה ושומרת על ערך גבוה לאורך זמן.' },
        { name: 'יונדאי איוניק', price: 165000, features: ['עיצוב אווירודינמי', 'מערכת היברידית יעילה', 'אבזור עשיר', 'בטיחות מתקדמת', 'תא מטען גדול'], description: 'יונדאי איוניק מציעה עיצוב אווירודינמי ומערכת היברידית יעילה במיוחד. היא מאובזרת היטב, מצוידת במערכות בטיחות מתקדמות ומציעה תא מטען גדול.' },
        { name: 'קיה נירו', price: 175000, features: ['מרחב פנימי גדול', 'צריכת דלק נמוכה', 'נוחות נסיעה', 'אחריות יצרן ארוכה', 'טכנולוגיה מתקדמת'], description: 'קיה נירו היא קרוסאובר היברידי עם מרחב פנימי גדול וצריכת דלק נמוכה. היא מציעה נוחות נסיעה גבוהה, אחריות יצרן ארוכה וטכנולוגיה מתקדמת.' },
        { name: 'הונדה CR-V היברידית', price: 190000, features: ['מרווחת', 'נוחות נסיעה גבוהה', 'מערכת הנעה חכמה', 'בטיחות מתקדמת', 'איכות בנייה גבוהה'], description: 'הונדה CR-V היברידית היא רכב פנאי-שטח היברידי מרווח עם נוחות נסיעה גבוהה. היא מצוידת במערכת הנעה חכמה, מערכות בטיחות מתקדמות ואיכות בנייה גבוהה.' },
        { name: 'פורד מונדיאו היברידית', price: 185000, features: ['מרווחת', 'נוחות נסיעה', 'טכנולוגיה מתקדמת', 'חסכונית בדלק', 'ביצועים טובים'], description: 'פורד מונדיאו היברידית היא מכונית משפחתית מרווחת עם נוחות נסיעה גבוהה. היא מציעה טכנולוגיה מתקדמת, חסכוניות בדלק וביצועים טובים.' }
      ],
      'חשמלי': [
        { name: 'טסלה מודל 3', price: 250000, features: ['טווח נסיעה ארוך', 'ביצועים מרשימים', 'טכנולוגיה מתקדמת', 'עדכוני תוכנה אוטומטיים', 'מערכת אוטופיילוט'], description: 'טסלה מודל 3 היא מכונית חשמלית מתקדמת עם טווח נסיעה ארוך וביצועים מרשימים. היא מצטיינת בטכנולוגיה מתקדמת, כולל עדכוני תוכנה אוטומטיים ומערכת אוטופיילוט.' },
        { name: 'פולקסווגן ID.3', price: 200000, features: ['טווח נסיעה טוב', 'מרווחת', 'טעינה מהירה', 'עיצוב מודרני', 'טכנולוגיה חדשנית'], description: 'פולקסווגן ID.3 היא מכונית חשמלית מרווחת עם טווח נסיעה טוב. היא מציעה אפשרות טעינה מהירה, עיצוב מודרני וטכנולוגיה חדשנית.' },
        { name: 'יונדאי איוניק 5', price: 220000, features: ['עיצוב ייחודי', 'טעינה מהירה במיוחד', 'מרחב פנימי גדול', 'טכנולוגיה מתקדמת', 'ביצועים טובים'], description: 'יונדאי איוניק 5 מציגה עיצוב ייחודי ויכולת טעינה מהירה במיוחד. היא מציעה מרחב פנימי גדול, טכנולוגיה מתקדמת וביצועים טובים.' },
        { name: 'קיה EV6', price: 230000, features: ['טווח נסיעה ארוך', 'ביצועים מרשימים', 'טעינה מהירה', 'עיצוב ספורטיבי', 'טכנולוגיה חדשנית'], description: 'קיה EV6 היא מכונית חשמלית עם טווח נסיעה ארוך וביצועים מרשימים. היא מציעה יכולת טעינה מהירה, עיצוב ספורטיבי וטכנולוגיה חדשנית.' },
        { name: 'סקודה אניאק iV', price: 210000, features: ['מרווחת', 'טווח נסיעה טוב', 'איכות בנייה גבוהה', 'תא מטען גדול', 'טכנולוגיה מתקדמת'], description: 'סקודה אניאק iV היא מכונית חשמלית מרווחת עם טווח נסיעה טוב. היא מצטיינת באיכות בנייה גבוהה, תא מטען גדול וטכנולוגיה מתקדמת.' }
      ],
      'משומש': [
        { name: 'סקודה אוקטביה 2018', price: 100000, features: ['מרווחת', 'תא מטען גדול', 'חסכונית', 'מצב מכני טוב', 'נוחות נסיעה'], description: 'סקודה אוקטביה משנת 2018 היא רכב משפחתי מרווח עם תא מטען גדול. היא ידועה בחסכוניות ובנוחות הנסיעה שלה.' },
        { name: 'מאזדה 3 2019', price: 110000, features: ['עיצוב מרשים', 'איכות גימור גבוהה', 'חווית נהיגה ספורטיבית', 'מצב כללי טוב', 'בטיחות'], description: 'מאזדה 3 משנת 2019 מציעה עיצוב מרשים ואיכות גימור גבוהה. היא מספקת חווית נהיגה ספורטיבית ומגיעה במצב כללי טוב.' },
        { name: 'טויוטה קורולה 2017', price: 95000, features: ['אמינות גבוהה', 'חסכונית בדלק', 'תחזוקה טובה', 'נוחות נסיעה', 'ערך שוק יציב'], description: 'טויוטה קורולה משנת 2017 היא סמל לאמינות וחסכוניות. היא מגיעה עם היסטוריית תחזוקה טובה ושומרת על ערך שוק יציב.' },
        { name: 'הונדה סיוויק 2016', price: 85000, features: ['ביצועים טובים', 'תא נוסעים מרווח', 'אמינות גבוהה', 'חסכונית בדלק', 'מצב מכני מצוין'], description: 'הונדה סיוויק משנת 2016 מציעה ביצועים טובים ותא נוסעים מרווח. היא ידועה באמינותה הגבוהה ובחסכוניות בדלק.' },
        { name: 'פולקסווגן גולף 2015', price: 80000, features: ['איכות גרמנית', 'נוחות נהיגה', 'מנוע חזק', 'תחזוקה טובה', 'ערך שוק טוב'], description: 'פולקסווגן גולף משנת 2015 מציעה איכות גרמנית במחיר משתלם. היא מספקת נוחות נהיגה טובה ומנוע חזק, עם היסטוריית תחזוקה טובה.' }
      ]
    },
    'ג\'יפ': {
      'בנזין': [
        { name: 'מאזדה CX-5', price: 180000, features: ['עיצוב מרשים', 'נוחות נהיגה', 'איכות גימור גבוהה', 'מערכות בטיחות מתקדמות', 'מנועים חזקים'], description: 'מאזדה CX-5 מציעה שילוב מנצח של עיצוב מרשים ונוחות נהיגה. היא ידועה באיכות הגימור הגבוהה, מערכות הבטיחות המתקדמות והמנועים החזקים.' },
        { name: 'קיה ספורטאז\'', price: 170000, features: ['מרווח', 'אבזור עשיר', 'עיצוב מודרני', 'חסכוני יחסית', 'אחריות יצרן ארוכה'], description: 'קיה ספורטאז\' הוא ג\'יפ מרווח עם אבזור עשיר ועיצוב מודרני. הוא מציע צריכת דלק סבירה לקטגוריה ואחריות יצרן ארוכה במיוחד.' },
        { name: 'יונדאי טוסון', price: 175000, features: ['נוחות נסיעה', 'מרווח פנימי גדול', 'עיצוב אטרקטיבי', 'טכנולוגיה מתקדמת', 'ביצועים טובים'], description: 'יונדאי טוסון מציע נוחות נסיעה גבוהה ומרווח פנימי גדול. הוא מתאפיין בעיצוב אטרקטיבי, טכנולוגיה מתקדמת וביצועים טובים.' },
        { name: 'סקודה קודיאק', price: 190000, features: ['7 מושבים', 'תא מטען ענק', 'איכות בנייה גבוהה', 'טכנולוגיה מתקדמת', 'נוחות נסיעה'], description: 'סקודה קודיאק היא ג\'יפ גדול עם אפשרות ל-7 מושבים ותא מטען ענק. היא מציעה איכות בנייה גבוהה, טכנולוגיה מתקדמת ונוחות נסיעה מעולה.' },
        { name: 'פיג\'ו 3008', price: 185000, features: ['עיצוב ייחודי', 'תא נהג חדשני', 'נוחות נסיעה', 'מערכות בטיחות מתקדמות', 'ביצועים טובים'], description: 'פיג\'ו 3008 מציע עיצוב ייחודי ותא נהג חדשני. הוא מצטיין בנוחות נסיעה, מערכות בטיחות מתקדמות וביצועים טובים.' }
      ],
      'היברידי': [
        { name: 'טויוטה RAV4 היברידי', price: 200000, features: ['חסכוני בדלק', 'ביצועים טובים', 'אמינות גבוהה', 'מרווח פנימי גדול', 'טכנולוגיה היברידית מוכחת'], description: 'טויוטה RAV4 היברידי משלב חסכוניות בדלק עם ביצועים טובים. הוא ידוע באמינות גבוהה, מרווח פנימי גדול וטכנולוגיה היברידית מוכחת של טויוטה.' },
        { name: 'הונדה CR-V היברידי', price: 210000, features: ['נוחות נסיעה גבוהה', 'מערכת הנעה מתקדמת', 'חסכוני בדלק', 'איכות בנייה גבוהה', 'מרווח פנימי גדול'], description: 'הונדה CR-V היברידי מציע נוחות נסיעה גבוהה ומערכת הנעה מתקדמת. הוא חסכוני בדלק, בעל איכות בנייה גבוהה ומרווח פנימי גדול.' },
        { name: 'מיצובישי אאוטלנדר PHEV', price: 220000, features: ['מערכת פלאג-אין היברידית', 'יכולת נסיעה חשמלית', '7 מושבים', 'צריכת דלק נמוכה', 'יכולות שטח טובות'], description: 'מיצובישי אאוטלנדר PHEV הוא ג\'יפ פלאג-אין היברידי עם יכולת נסיעה חשמלית. הוא מציע 7 מושבים, צריכת דלק נמוכה ויכולות שטח טובות.' },
        { name: 'לקסוס NX היברידי', price: 250000, features: ['יוקרתי', 'ביצועים חזקים', 'איכות גימור גבוהה', 'טכנולוגיה מתקדמת', 'נוחות נסיעה'], description: 'לקסוס NX היברידי הוא ג\'יפ יוקרתי עם ביצועים חזקים. הוא מציע איכות גימור גבוהה, טכנולוגיה מתקדמת ונוחות נסיעה גבוהה.' },
        { name: 'פורד קוגה היברידי', price: 195000, features: ['חסכוני בדלק', 'מרווח פנימי גדול', 'טכנולוגיה מתקדמת', 'נוחות נסיעה', 'ביצועים טובים'], description: 'פורד קוגה היברידי מציע שילוב של חסכוניות בדלק ומרווח פנימי גדול. הוא מצויד בטכנולוגיה מתקדמת, מציע נוחות נסיעה גבוהה וביצועים טובים.' }
      ],
      'חשמלי': [
        { name: 'טסלה מודל Y', price: 300000, features: ['טווח נסיעה ארוך', 'ביצועים מרשימים', 'טכנולוגיה מתקדמת', 'מרווח פנימי גדול', 'עדכוני תוכנה אוטומטיים'], description: 'טסלה מודל Y הוא ג\'יפ חשמלי עם טווח נסיעה ארוך וביצועים מרשימים. הוא מצטיין בטכנולוגיה מתקדמת, מרווח פנימי גדול ועדכוני תוכנה אוטומטיים.' },
        { name: 'פולקסווגן ID.4', price: 250000, features: ['טווח נסיעה טוב', 'מרווח פנימי גדול', 'טעינה מהירה', 'נוחות נסיעה', 'טכנולוגיה חדשנית'], description: 'פולקסווגן ID.4 הוא ג\'יפ חשמלי עם טווח נסיעה טוב ומרווח פנימי גדול. הוא מציע אפשרות טעינה מהירה, נוחות נסיעה גבוהה וטכנולוגיה חדשנית.' },
        { name: 'סקודה אניאק iV', price: 240000, features: ['מרווח', 'טווח נסיעה טוב', 'איכות בנייה גבוהה', 'תא מטען גדול', 'טכנולוגיה מתקדמת'], description: 'סקודה אניאק iV הוא ג\'יפ חשמלי מרווח עם טווח נסיעה טוב. הוא מצטיין באיכות בנייה גבוהה, תא מטען גדול וטכנולוגיה מתקדמת.' },
        { name: 'יונדאי איוניק 5', price: 260000, features: ['עיצוב ייחודי', 'טעינה מהירה במיוחד', 'מרחב פנימי גדול', 'טכנולוגיה מתקדמת', 'ביצועים טובים'], description: 'יונדאי איוניק 5 מציג עיצוב ייחודי ויכולת טעינה מהירה במיוחד. הוא מציע מרחב פנימי גדול, טכנולוגיה מתקדמת וביצועים טובים.' },
        { name: 'אאודי e-tron', price: 350000, features: ['יוקרתי', 'ביצועים מרשימים', 'טווח נסיעה טוב', 'איכות גימור גבוהה', 'טכנולוגיה מתקדמת'], description: 'אאודי e-tron הוא ג\'יפ חשמלי יוקרתי עם ביצועים מרשימים וטווח נסיעה טוב. הוא מציע איכות גימור גבוהה וטכנולוגיה מתקדמת.' }
      ],
      'משומש': [
        { name: 'מאזדה CX-5 2018', price: 130000, features: ['עיצוב מרשים', 'נוחות נהיגה', 'מצב מכני טוב', 'מערכות בטיחות', 'חסכוני יחסית'], description: 'מאזדה CX-5 משנת 2018 מציעה עיצוב מרשים ונוחות נהיגה גבוהה. היא מגיעה במצב מכני טוב, עם מערכות בטיחות וחסכונית יחסית לקטגוריה.' },
        { name: 'קיה ספורטאז\' 2017', price: 115000, features: ['מרווח', 'אבזור עשיר', 'תחזוקה טובה', 'אמינות גבוהה', 'ערך שוק יציב'], description: 'קיה ספורטאז\' משנת 2017 היא ג\'יפ מרווח עם אבזור עשיר. היא ידועה באמינותה הגבוהה, מגיעה עם היסטוריית תחזוקה טובה וערך שוק יציב.' },
        { name: 'יונדאי טוסון 2016', price: 100000, features: ['נוחות נסיעה', 'מרווח פנימי', 'חסכוני בדלק', 'מצב כללי טוב', 'מחיר אטרקטיבי'], description: 'יונדאי טוסון משנת 2016 מציעה נוחות נסיעה טובה ומרווח פנימי גדול. היא חסכונית בדלק, מגיעה במצב כללי טוב ובמחיר אטרקטיבי.' },
        { name: 'סקודה קודיאק 2019', price: 150000, features: ['7 מושבים', 'תא מטען ענק', 'כמעט חדש', 'טכנולוגיה מתקדמת', 'ביצועים טובים'], description: 'סקודה קודיאק משנת 2019 היא ג\'יפ גדול עם 7 מושבים ותא מטען ענק. היא כמעט חדשה, מצוידת בטכנולוגיה מתקדמת ומציעה ביצועים טובים.' },
        { name: 'פיג\'ו 3008 2015', price: 90000, features: ['עיצוב ייחודי', 'נוחות נסיעה', 'חסכוני בדלק', 'תחזוקה טובה', 'מחיר משתלם'], description: 'פיג\'ו 3008 משנת 2015 מציעה עיצוב ייחודי ונוחות נסיעה טובה. היא חסכונית בדלק, מגיעה עם היסטוריית תחזוקה טובה ובמחיר משתלם.' }
      ]
    },
    'טנדר': {
      'בנזין': [
        { name: 'טויוטה היילקס', price: 200000, features: ['אמינות גבוהה', 'יכולות שטח מעולות', 'כושר גרירה גבוה', 'ערך שוק יציב', 'עמידות גבוהה'], description: 'טויוטה היילקס היא טנדר אמין במיוחד עם יכולות שטח מעולות. היא ידועה בכושר הגרירה הגבוה, ערך השוק היציב והעמידות הגבוהה שלה.' },
        { name: 'איסוזו D-MAX', price: 190000, features: ['עמידות גבוהה', 'יכולות העמסה טובות', 'צריכת דלק סבירה', 'תא נוסעים מרווח', 'יכולות שטח טובות'], description: 'איסוזו D-MAX הוא טנדר עמיד במיוחד עם יכולות העמסה טובות. הוא מציע צריכת דלק סבירה, תא נוסעים מרווח ויכולות שטח טובות.' },
        { name: 'פורד ריינג\'ר', price: 210000, features: ['ביצועים חזקים', 'נוחות נסיעה טובה', 'טכנולוגיה מתקדמת', 'יכולות שטח טובות', 'תא נוסעים מרווח'], description: 'פורד ריינג\'ר מציע ביצועים חזקים ונוחות נסיעה טובה יחסית לטנדר. הוא מצויד בטכנולוגיה מתקדמת, יכולות שטח טובות ותא נוסעים מרווח.' },
        { name: 'מיצובישי L200', price: 195000, features: ['אמינות טובה', 'יכולות שטח מצוינות', 'עיצוב מודרני', 'צריכת דלק סבירה', 'כושר גרירה גבוה'], description: 'מיצובישי L200 היא טנדר אמין עם יכולות שטח מצוינות. היא מציעה עיצוב מודרני, צריכת דלק סבירה וכושר גרירה גבוה.' },
        { name: 'ניסאן נבארה', price: 205000, features: ['עיצוב חדשני', 'טכנולוגיה מתקדמת', 'יכולות שטח טובות', 'נוחות נסיעה משופרת', 'כושר העמסה גבוה'], description: 'ניסאן נבארה מציעה עיצוב חדשני וטכנולוגיה מתקדמת. היא מצטיינת ביכולות שטח טובות, נוחות נסיעה משופרת וכושר העמסה גבוה.' }
      ],
      'היברידי': [
        { name: 'טויוטה היילקס היברידי', price: 230000, features: ['חסכוני בדלק', 'ביצועים משופרים', 'זיהום נמוך', 'אמינות גבוהה', 'טכנולוגיה היברידית מתקדמת'], description: 'טויוטה היילקס היברידי משלב את האמינות הידועה של היילקס עם טכנולוגיה היברידית חסכונית. הוא מציע ביצועים משופרים, זיהום נמוך יותר וטכנולוגיה היברידית מתקדמת.' },
        { name: 'פורד F-150 היברידי', price: 280000, features: ['עוצמה גבוהה', 'חסכוני בדלק', 'יכולות גרירה מרשימות', 'טכנולוגיה מתקדמת', 'תא נהג מפנק'], description: 'פורד F-150 היברידי מציע שילוב של עוצמה גבוהה וחסכוניות בדלק. הוא מצטיין ביכולות גרירה מרשימות, טכנולוגיה מתקדמת ותא נהג מפנק.' },
        { name: 'RAM 1500 eTorque', price: 270000, features: ['מערכת eTorque חדשנית', 'ביצועים משופרים', 'חסכוני בדלק', 'נוחות נסיעה גבוהה', 'יכולות העמסה מרשימות'], description: 'RAM 1500 eTorque מציע מערכת היברידית קלה וחדשנית. הוא מתאפיין בביצועים משופרים, חסכוניות בדלק, נוחות נסיעה גבוהה ויכולות העמסה מרשימות.' },
        { name: 'שברולט סילברדו היברידי', price: 260000, features: ['טכנולוגיה היברידית מתקדמת', 'חסכוני בדלק', 'ביצועים חזקים', 'תא נוסעים מרווח', 'יכולות גרירה גבוהות'], description: 'שברולט סילברדו היברידי משלב טכנולוגיה היברידית מתקדמת עם ביצועים חזקים. הוא חסכוני בדלק, מציע תא נוסעים מרווח ויכולות גרירה גבוהות.' },
        { name: 'GMC סיירה היברידי', price: 275000, features: ['עיצוב יוקרתי', 'טכנולוגיה היברידית חדשנית', 'צריכת דלק משופרת', 'נוחות נסיעה גבוהה', 'יכולות שטח מרשימות'], description: 'GMC סיירה היברידי מציע עיצוב יוקרתי וטכנולוגיה היברידית חדשנית. הוא מצטיין בצריכת דלק משופרת, נוחות נסיעה גבוהה ויכולות שטח מרשימות.' }
      ],
      'חשמלי': [
        { name: 'ריביאן R1T', price: 350000, features: ['טווח נסיעה ארוך', 'ביצועים מרשימים', 'יכולות שטח מעולות', 'טכנולוגיה חדשנית', 'עיצוב ייחודי'], description: 'ריביאן R1T הוא טנדר חשמלי חדשני עם טווח נסיעה ארוך וביצועים מרשימים. הוא מציע יכולות שטח מעולות, טכנולוגיה חדשנית ועיצוב ייחודי.' },
        { name: 'פורד F-150 Lightning', price: 320000, features: ['עוצמה חשמלית גבוהה', 'טווח נסיעה טוב', 'יכולות גרירה מרשימות', 'טכנולוגיה מתקדמת', 'אפשרות הזנת חשמל לבית'], description: 'פורד F-150 Lightning הוא הגרסה החשמלית של הטנדר הפופולרי. הוא מציע עוצמה חשמלית גבוהה, טווח נסיעה טוב, יכולות גרירה מרשימות ואפילו אפשרות להזנת חשמל לבית.' },
        { name: 'טסלה Cybertruck', price: 380000, features: ['עיצוב עתידני', 'ביצועים יוצאי דופן', 'גוף עמיד במיוחד', 'טווח נסיעה ארוך', 'טכנולוגיה מתקדמת'], description: 'טסלה Cybertruck מציג עיצוב עתידני ומהפכני לטנדר. הוא מבטיח ביצועים יוצאי דופן, גוף עמיד במיוחד, טווח נסיעה ארוך וטכנולוגיה מתקדמת של טסלה.' },
        { name: 'GMC Hummer EV', price: 400000, features: ['עוצמה אדירה', 'יכולות שטח מדהימות', 'טכנולוגיה חדשנית', 'עיצוב מרשים', 'טווח נסיעה טוב'], description: 'GMC Hummer EV הוא טנדר חשמלי עם עוצמה אדירה ויכולות שטח מדהימות. הוא מציג טכנולוגיה חדשנית, עיצוב מרשים וטווח נסיעה טוב.' },
        { name: 'ניקולה בדג\'ר', price: 330000, features: ['טכנולוגיית מימן-חשמל', 'טווח נסיעה ארוך', 'זמן תדלוק קצר', 'ביצועים טובים', 'ידידותי לסביבה'], description: 'ניקולה בדג\'ר הוא טנדר המשלב טכנולוגיית תאי דלק מימניים עם הנעה חשמלית. הוא מציע טווח נסיעה ארוך, זמן תדלוק קצר, ביצועים טובים וידידותיות גבוהה לסביבה.' }
      ],
      'משומש': [
        { name: 'טויוטה היילקס 2018', price: 150000, features: ['אמינות גבוהה', 'מצב מכני מצוין', 'יכולות שטח', 'ערך שוק יציב', 'היסטוריית טיפולים מלאה'], description: 'טויוטה היילקס משנת 2018 היא טנדר אמין במיוחד. היא מגיעה במצב מכני מצוין, עם יכולות שטח מוכחות וערך שוק יציב.' },
        { name: 'איסוזו D-MAX 2017', price: 140000, features: ['עמידות גבוהה', 'צריכת דלק נמוכה', 'תחזוקה פשוטה', 'מתאים לעבודה', 'מצב כללי טוב'], description: 'איסוזו D-MAX משנת 2017 הוא טנדר עמיד במיוחד. הוא מציע צריכת דלק נמוכה, תחזוקה פשוטה ומתאים מאוד לעבודה.' },
        { name: 'פורד ריינג\'ר 2016', price: 130000, features: ['ביצועים טובים', 'נוחות יחסית', 'יכולות שטח', 'מצב שמור', 'מחיר אטרקטיבי'], description: 'פורד ריינג\'ר משנת 2016 מציע ביצועים טובים ונוחות יחסית לטנדר. הוא מגיע במצב שמור, עם יכולות שטח טובות ובמחיר אטרקטיבי.' },
        { name: 'מיצובישי L200 2019', price: 160000, features: ['כמעט חדש', 'אחריות יצרן', 'חסכוני בדלק', 'אבזור עשיר', 'יכולות העמסה'], description: 'מיצובישי L200 משנת 2019 הוא טנדר כמעט חדש. הוא עדיין תחת אחריות יצרן, חסכוני בדלק, מאובזר היטב ובעל יכולות העמסה טובות.' },
        { name: 'ניסאן נבארה 2015', price: 120000, features: ['מחיר משתלם', 'אמינות טובה', 'יכולות שטח', 'תחזוקה פשוטה', 'מנוע חזק'], description: 'ניסאן נבארה משנת 2015 מציעה מחיר משתלם ואמינות טובה. היא בעלת יכולות שטח טובות, תחזוקה פשוטה ומנוע חזק.' }
      ]
    },
    'רכב שטח': {
      'בנזין': [
        { name: 'ג\'יפ רנגלר', price: 250000, features: ['יכולות שטח מובילות', 'עיצוב אייקוני', 'אפשרויות התאמה אישית', 'גג נשלף', 'מערכת הנעה כפולה מתקדמת'], description: 'ג\'יפ רנגלר הוא סמל ליכולות שטח מובילות. הוא מציע עיצוב אייקוני, אפשרויות רבות להתאמה אישית, גג נשלף ומערכת הנעה כפולה מתקדמת.' },
        { name: 'לנד רובר דיפנדר', price: 400000, features: ['יכולות שטח יוצאות דופן', 'נוחות גבוהה', 'טכנולוגיה מתקדמת', 'עיצוב חדשני', 'איכות בנייה גבוהה'], description: 'לנד רובר דיפנדר משלב יכולות שטח יוצאות דופן עם נוחות גבוהה. הוא מצויד בטכנולוגיה מתקדמת, מציג עיצוב חדשני ואיכות בנייה גבוהה.' },
        { name: 'טויוטה לנד קרוזר', price: 450000, features: ['אמינות אגדית', 'יכולות שטח מעולות', 'נוחות גבוהה', 'מרווח פנימי גדול', 'ערך שוק גבוה'], description: 'טויוטה לנד קרוזר ידוע באמינות האגדית שלו ויכולות השטח המעולות. הוא מציע נוחות גבוהה, מרווח פנימי גדול וערך שוק גבוה לאורך זמן.' },
        { name: 'פורד ברונקו', price: 280000, features: ['עיצוב רטרו מודרני', 'יכולות שטח מרשימות', 'טכנולוגיה חדשנית', 'גג וחלונות נשלפים', 'מערכת שטח חכמה'], description: 'פורד ברונקו מציג עיצוב רטרו מודרני ויכולות שטח מרשימות. הוא מצויד בטכנולוגיה חדשנית, מציע גג וחלונות נשלפים ומערכת שטח חכמה.' },
        { name: 'סוזוקי ג\'ימני', price: 120000, features: ['קומפקטי וזריז', 'יכולות שטח מפתיעות', 'חסכוני בדלק', 'קל לתמרון', 'מחיר אטרקטיבי'], description: 'סוזוקי ג\'ימני הוא רכב שטח קומפקטי עם יכולות שטח מפתיעות. הוא זריז, קל לתמרון, חסכוני בדלק ומציע מחיר אטרקטיבי.' }
      ],
      'היברידי': [
        { name: 'לנד רובר ריינג\' רובר PHEV', price: 600000, features: ['יוקרה ללא פשרות', 'יכולות שטח מרשימות', 'מערכת היברידית מתקדמת', 'נוחות עילית', 'טכנולוגיה חדשנית'], description: 'לנד רובר ריינג\' רובר PHEV מציע יוקרה ללא פשרות לצד יכולות שטח מרשימות. הוא מצויד במערכת היברידית מתקדמת, מציע נוחות עילית וטכנולוגיה חדשנית.' },
        { name: 'ג\'יפ רנגלר 4xe', price: 300000, features: ['יכולות שטח חשמליות', 'חסכוני בדלק', 'ביצועים משופרים', 'טכנולוגיה היברידית מתקדמת', 'עיצוב אייקוני'], description: 'ג\'יפ רנגלר 4xe משלב את היכולות השטח המוכרות של רנגלר עם טכנולוגיה היברידית מתקדמת. הוא מציע יכולות שטח חשמליות, חסכוניות בדלק וביצועים משופרים.' },
        { name: 'טויוטה RAV4 היברידי', price: 200000, features: ['אמינות טויוטה', 'חסכוני בדלק', 'ביצועים טובים', 'טכנולוגיה היברידית מוכחת', 'מרווח פנימי גדול'], description: 'טויוטה RAV4 היברידי מציע את האמינות המוכרת של טויוטה עם מערכת היברידית חסכונית. הוא מציג ביצועים טובים, טכנולוגיה היברידית מוכחת ומרווח פנימי גדול.' },
        { name: 'וולבו XC90 רכיב', price: 400000, features: ['יוקרה שבדית', 'בטיחות מתקדמת', 'מערכת היברידית חזקה', 'נוחות גבוהה', '7 מושבים'], description: 'וולבו XC90 רכיב מביא יוקרה שבדית ובטיחות מתקדמת לעולם רכבי השטח ההיברידיים. הוא מצויד במערכת היברידית חזקה, מציע נוחות גבוהה ו-7 מושבים.' },
        { name: 'פורד אקספלורר PHEV', price: 350000, features: ['מרווח פנימי ענק', 'יכולת נסיעה חשמלית', 'ביצועים חזקים', 'טכנולוגיה מתקדמת', 'יכולות גרירה טובות'], description: 'פורד אקספלורר PHEV מציע מרווח פנימי ענק ויכולת נסיעה חשמלית. הוא מתאפיין בביצועים חזקים, טכנולוגיה מתקדמת ויכולות גרירה טובות.' }
      ],
      'חשמלי': [
        { name: 'טסלה מודל X', price: 450000, features: ['טווח נסיעה ארוך', 'ביצועים מרשימים', 'טכנולוגיה מתקדמת', 'מרווח פנימי גדול', 'עדכוני תוכנה אוטומטיים'], description: 'טסלה מודל X הוא רכב שטח חשמלי מתקדם עם טווח נסיעה ארוך וביצועים מרשימים. הוא מצטיין בטכנולוגיה מתקדמת, מרווח פנימי גדול ועדכוני תוכנה אוטומטיים.' },
        { name: 'אאודי e-tron', price: 400000, features: ['איכות גרמנית', 'נוחות גבוהה', 'טעינה מהירה', 'עיצוב יוקרתי', 'ביצועים מרשימים'], description: 'אאודי e-tron מביא את האיכות הגרמנית לעולם רכבי השטח החשמליים. הוא מציע נוחות גבוהה, יכולת טעינה מהירה, עיצוב יוקרתי וביצועים מרשימים.' },
        { name: 'מרצדס EQC', price: 420000, features: ['נוחות מרצדס', 'ביצועים חזקים', 'עיצוב אלגנטי', 'טכנולוגיה מתקדמת', 'בידוד רעשים מעולה'], description: 'מרצדס EQC משלב את הנוחות המוכרת של מרצדס עם הנעה חשמלית מתקדמת. הוא מציע ביצועים חזקים, עיצוב אלגנטי, טכנולוגיה מתקדמת ובידוד רעשים מעולה.' },
        { name: 'ב.מ.וו iX', price: 430000, features: ['עיצוב חדשני', 'טווח נסיעה ארוך', 'ביצועים ספורטיביים', 'טכנולוגיה חדישה', 'איכות גימור גבוהה'], description: 'ב.מ.וו iX הוא רכב שטח חשמלי עם עיצוב חדשני וטווח נסיעה ארוך. הוא מציע ביצועים ספורטיביים, טכנולוגיה חדישה ואיכות גימור גבוהה.' },
        { name: 'ריביאן R1S', price: 440000, features: ['יכולות שטח מרשימות', 'טווח נסיעה ארוך', 'עיצוב ייחודי', 'טכנולוגיה חדשנית', 'ביצועים חזקים'], description: 'ריביאן R1S הוא רכב שטח חשמלי חדשני עם יכולות שטח מרשימות וטווח נסיעה ארוך. הוא מציג עיצוב ייחודי, טכנולוגיה חדשנית וביצועים חזקים.' }
      ],
      'משומש': [
        { name: 'ג\'יפ רנגלר 2018', price: 180000, features: ['יכולות שטח מוכחות', 'מצב מכני מצוין', 'ערך שוק יציב', 'אפשרויות שדרוג רבות', 'היסטוריית טיפולים מלאה'], description: 'ג\'יפ רנגלר משנת 2018 מציע יכולות שטח מוכחות במחיר אטרקטיבי. הוא מגיע במצב מכני מצוין, עם ערך שוק יציב ואפשרויות רבות לשדרוג.' },
        { name: 'לנד רובר דיסקברי 2017', price: 220000, features: ['נוחות גבוהה', 'יכולות שטח מרשימות', '7 מושבים', 'טכנולוגיה מתקדמת', 'מצב כללי טוב'], description: 'לנד רובר דיסקברי משנת 2017 משלב נוחות גבוהה עם יכולות שטח מרשימות. הוא מציע 7 מושבים, טכנולוגיה מתקדמת ומגיע במצב כללי טוב.' },
        { name: 'טויוטה לנד קרוזר 2016', price: 250000, features: ['אמינות מוכחת', 'יכולות שטח מעולות', 'תחזוקה פשוטה', 'ערך שוק גבוה', 'מרווח פנימי גדול'], description: 'טויוטה לנד קרוזר משנת 2016 ידוע באמינותו המוכחת ויכולות השטח המעולות שלו. הוא מציע תחזוקה פשוטה, ערך שוק גבוה ומרווח פנימי גדול.' },
        { name: 'מיצובישי פאג\'רו 2015', price: 130000, features: ['מחיר אטרקטיבי', 'יכולות שטח טובות', 'אמינות גבוהה', 'צריכת דלק סבירה', 'נוחות נסיעה'], description: 'מיצובישי פאג\'רו משנת 2015 מציע מחיר אטרקטיבי ויכולות שטח טובות. הוא ידוע באמינותו הגבוהה, צריכת דלק סבירה ונוחות נסיעה טובה.' },
        { name: 'סוזוקי ג\'ימני 2019', price: 90000, features: ['כמעט חדש', 'יכולות שטח מפתיעות', 'חסכוני בדלק', 'קל לתמרון', 'תחזוקה זולה'], description: 'סוזוקי ג\'ימני משנת 2019 הוא רכב שטח קומפקטי כמעט חדש. הוא מציע יכולות שטח מפתיעות, חסכוני בדלק, קל לתמרון ועלויות תחזוקה נמוכות.' }
      ]
    },
    'ספורט': {
      'בנזין': [
        { name: 'פורשה 911', price: 800000, features: ['ביצועים יוצאי דופן', 'עיצוב אייקוני', 'איכות בנייה גבוהה', 'חווית נהיגה ייחודית', 'ערך שוק גבוה'], description: 'פורשה 911 היא מכונית ספורט אייקונית עם ביצועים יוצאי דופן ועיצוב קלאסי. היא מציעה איכות בנייה גבוהה, חווית נהיגה ייחודית וערך שוק גבוה לאורך זמן.' },
        { name: 'שברולט קורבט', price: 450000, features: ['ביצועים אמריקאיים', 'עיצוב מרהיב', 'מנוע V8 חזק', 'מחיר אטרקטיבי', 'טכנולוגיה מתקדמת'], description: 'שברולט קורבט מציעה ביצועים אמריקאיים מרשימים במחיר אטרקטיבי יחסית. היא מתאפיינת בעיצוב מרהיב, מנוע V8 חזק וטכנולוגיה מתקדמת.' },
        { name: 'טויוטה סופרה', price: 400000, features: ['שיתוף פעולה עם BMW', 'ביצועים מרשימים', 'עיצוב ספורטיבי', 'טכנולוגיה מתקדמת', 'מסורת ספורטיבית'], description: 'טויוטה סופרה, פרי שיתוף פעולה עם BMW, מציעה ביצועים מרשימים ועיצוב ספורטיבי. היא משלבת טכנולוגיה מתקדמת עם מסורת ספורטיבית מפוארת.' },
        { name: 'אאודי R8', price: 900000, features: ['מנוע V10 עוצמתי', 'ביצועי על', 'עיצוב מרהיב', 'טכנולוגיה מתקדמת', 'איכות גרמנית'], description: 'אאודי R8 היא מכונית על עם מנוע V10 עוצמתי וביצועים מרשימים. היא מציגה עיצוב מרהיב, טכנולוגיה מתקדמת ואיכות גרמנית ידועה.' },
        { name: 'מרצדס-AMG GT', price: 700000, features: ['ביצועים גבוהים', 'עיצוב מרשים', 'נוחות יחסית', 'טכנולוגיה מתקדמת', 'מותג יוקרתי'], description: 'מרצדס-AMG GT משלבת ביצועים גבוהים עם נוחות יחסית למכונית ספורט. היא מציעה עיצוב מרשים, טכנולוגיה מתקדמת ואת היוקרה של מותג מרצדס.' }
      ],
      'היברידי': [
        { name: 'פרארי SF90 Stradale', price: 1800000, features: ['טכנולוגיה היברידית מתקדמת', 'ביצועי על', 'עיצוב מרהיב', 'מותג אייקוני', 'חווית נהיגה ייחודית'], description: 'פרארי SF90 Stradale היא מכונית היברידית-על המשלבת טכנולוגיה היברידית מתקדמת עם ביצועי על. היא מציגה עיצוב מרהיב ומציעה חווית נהיגה ייחודית תחת מותג אייקוני.' },
        { name: 'מקלארן Artura', price: 1500000, features: ['קלה במיוחד', 'ביצועים מרשימים', 'טכנולוגיה היברידית חדשנית', 'עיצוב אווירודינמי', 'חווית נהיגה ספורטיבית'], description: 'מקלארן Artura היא מכונית ספורט היברידית קלה במיוחד עם ביצועים מרשימים. היא מציעה טכנולוגיה היברידית חדשנית, עיצוב אווירודינמי וחווית נהיגה ספורטיבית יוצאת דופן.' },
        { name: 'פורשה פנאמרה E-Hybrid', price: 800000, features: ['ביצועים ונוחות', 'טכנולוגיה היברידית מתקדמת', 'פנים יוקרתי', 'עיצוב ספורטיבי', '4 דלתות'], description: 'פורשה פנאמרה E-Hybrid משלבת ביצועים גבוהים עם נוחות יומיומית. היא מציעה טכנולוגיה היברידית מתקדמת, פנים יוקרתי ועיצוב ספורטיבי עם 4 דלתות.' },
        { name: 'לקסוס LC 500h', price: 650000, features: ['עיצוב מרהיב', 'נוחות גבוהה', 'טכנולוגיה היברידית יעילה', 'איכות בנייה גבוהה', 'מותג יוקרה'], description: 'לקסוס LC 500h מציגה עיצוב מרהיב ונוחות גבוהה. היא משלבת טכנולוגיה היברידית יעילה עם איכות בנייה גבוהה תחת מותג היוקרה של טויוטה.' },
        { name: 'הונדה NSX', price: 900000, features: ['ביצועי על', 'טכנולוגיה היברידית מתקדמת', 'עיצוב פוטוריסטי', 'הנדסה יפנית מתקדמת', 'נדירות יחסית'], description: 'הונדה NSX היא מכונית ספורט היברידית עם ביצועי על וטכנולוגיה היברידית מתקדמת. היא מציגה עיצוב פוטוריסטי והנדסה יפנית מתקדמת, והיא נדירה יחסית בכבישים.' }
      ],
      'חשמלי': [
        { name: 'טסלה רודסטר', price: 1000000, features: ['ביצועים חשמליים יוצאי דופן', 'טווח נסיעה ארוך', 'עיצוב מרהיב', 'טכנולוגיה פורצת דרך', '0-100 קמ"ש ב-1.9 שניות'], description: 'טסלה רודסטר מבטיחה להיות אחת ממכוניות הספורט החשמליות המהירות בעולם. היא מציעה ביצועים יוצאי דופן, טווח נסיעה ארוך ועיצוב מרהיב.' },
        { name: 'פורשה טייקאן', price: 650000, features: ['ביצועים חשמליים מרשימים', 'טעינה מהירה', 'עיצוב ספורטיבי', 'טכנולוגיה מתקדמת', 'מותג יוקרתי'], description: 'פורשה טייקאן היא מכונית ספורט חשמלית עם ביצועים מרשימים ויכולת טעינה מהירה. היא מציגה עיצוב ספורטיבי וטכנולוגיה מתקדמת תחת מותג יוקרתי.' },
        { name: 'רימאק נברה', price: 2000000, features: ['ביצועי על חשמליים', 'עיצוב ייחודי', 'טכנולוגיה חדשנית', 'בלעדיות', 'ייצור מוגבל'], description: 'רימאק נברה היא מכונית על חשמלית עם ביצועים מדהימים ועיצוב ייחודי. היא מציעה טכנולוגיה חדשנית ומיוצרת במספר מוגבל של יחידות, מה שמבטיח בלעדיות.' },
        { name: 'לוטוס Evija', price: 2200000, features: ['עיצוב פורץ דרך', 'ביצועים חשמליים קיצוניים', 'קלה במיוחד', 'אווירודינמיקה מתקדמת', 'טכנולוגיה חדשנית'], description: 'לוטוס Evija היא מכונית על חשמלית עם עיצוב פורץ דרך וביצועים קיצוניים. היא קלה במיוחד, מציעה אווירודינמיקה מתקדמת וטכנולוגיה חדשנית.' },
        { name: 'פינינפרינה Battista', price: 2100000, features: ['עיצוב איטלקי מרהיב', 'ביצועי על חשמליים', 'פנים יוקרתי', 'טכנולוגיה מתקדמת', 'ייצור מוגבל'], description: 'פינינפרינה Battista משלבת עיצוב איטלקי מרהיב עם ביצועי על חשמליים. היא מציעה פנים יוקרתי, טכנולוגיה מתקדמת ומיוצרת במספר מוגבל של יחידות.' }
      ],
      'משומש': [
        { name: 'פורשה 911 2018', price: 500000, features: ['ביצועים גבוהים', 'מצב מכני מצוין', 'ערך שוק יציב', 'היסטוריית טיפולים מלאה', 'עיצוב קלאסי'], description: 'פורשה 911 משנת 2018 מציעה ביצועים גבוהים ומצב מכני מצוין. היא שומרת על ערך שוק יציב ומגיעה עם היסטוריית טיפולים מלאה.' },
        { name: 'שברולט קורבט 2019', price: 350000, features: ['ביצועים אמריקאיים', 'כמעט חדשה', 'מחיר אטרקטיבי', 'טכנולוגיה מתקדמת', 'מנוע V8 חזק'], description: 'שברולט קורבט משנת 2019 היא מכונית ספורט כמעט חדשה במחיר אטרקטיבי. היא מציעה ביצועים אמריקאיים, טכנולוגיה מתקדמת ומנוע V8 חזק.' },
        { name: 'אאודי R8 2017', price: 600000, features: ['ביצועי על', 'מצב שמור', 'טכנולוגיה מתקדמת', 'נדירות יחסית', 'חוויית נהיגה ייחודית'], description: 'אאודי R8 משנת 2017 מציעה ביצועי על במחיר אטרקטיבי יותר. היא מגיעה במצב שמור, עם טכנולוגיה מתקדמת ומספקת חוויית נהיגה ייחודית.' },
        { name: 'טויוטה סופרה 2020', price: 320000, features: ['ביצועים מרשימים', 'כמעט חדשה', 'אחריות יצרן נותרת', 'טכנולוגיה מתקדמת', 'עיצוב ספורטיבי'], description: 'טויוטה סופרה משנת 2020 היא מכונית ספורט כמעט חדשה. היא מציעה ביצועים מרשימים, עדיין תחת אחריות יצרן, ומצוידת בטכנולוגיה מתקדמת.' },
        { name: 'ניסאן GT-R 2016', price: 380000, features: ['ביצועים יפניים מרשימים', 'טכנולוגיה מתקדמת', 'אמינות גבוהה', 'עיצוב ייחודי', 'מחיר משתלם'], description: 'ניסאן GT-R משנת 2016, הידועה גם כ"גודזילה", מציעה ביצועים יפניים מרשימים במחיר משתלם. היא מצטיינת בטכנולוגיה מתקדמת, אמינות גבוהה ועיצוב ייחודי.' }
      ]
    }
  };

  const personalityTypes = {
    RED: 'אדום',
    BLUE: 'כחול',
    GREEN: 'ירוק',
    YELLOW: 'צהוב'
  };

  const getPersonalityType = (zodiacSign, numerologyNumber, occupation) => {
    const zodiacPersonality = {
      'טלה': personalityTypes.RED,
      'שור': personalityTypes.GREEN,
      'תאומים': personalityTypes.YELLOW,
      'סרטן': personalityTypes.BLUE,
      'אריה': personalityTypes.RED,
      'בתולה': personalityTypes.GREEN,
      'מאזניים': personalityTypes.YELLOW,
      'עקרב': personalityTypes.BLUE,
      'קשת': personalityTypes.RED,
      'גדי': personalityTypes.GREEN,
      'דלי': personalityTypes.YELLOW,
      'דגים': personalityTypes.BLUE
    };

    const numerologyPersonality = {
      1: personalityTypes.RED,
      2: personalityTypes.BLUE,
      3: personalityTypes.YELLOW,
      4: personalityTypes.GREEN,
      5: personalityTypes.RED,
      6: personalityTypes.BLUE,
      7: personalityTypes.YELLOW,
      8: personalityTypes.GREEN,
      9: personalityTypes.RED
    };

    const occupationPersonality = {
      'מהנדס תוכנה': personalityTypes.BLUE,
      'מנהל מכירות': personalityTypes.RED,
      'מורה': personalityTypes.GREEN,
      'שחקן': personalityTypes.YELLOW,
      'רופא': personalityTypes.BLUE,
      'יזם': personalityTypes.RED,
      'מעצב': personalityTypes.YELLOW,
      'חוקר': personalityTypes.GREEN,
      'עורך דין': personalityTypes.RED,
      'פסיכולוג': personalityTypes.BLUE
    };

    const personalities = [
      zodiacPersonality[zodiacSign],
      numerologyPersonality[numerologyNumber],
      occupationPersonality[occupation]
    ].filter(Boolean);

    return personalities.reduce((acc, curr) => 
      personalities.filter(v => v === acc).length >= personalities.filter(v => v === curr).length ? acc : curr
    , personalityTypes.BLUE);
  };

  const generatePersonalizedOpening = (firstName, lastName, age, occupation, birthdate, personalityType) => {
    const openings = {
      [personalityTypes.RED]: [
        `${firstName}, בוא נדבר ישירות על מה שחשוב. אני רואה שאתה איש של החלטות מהירות ותוצאות. יש לי כמה הצעות שיכולות להתאים בול למה שאתה מחפש.`,
        `היי ${firstName}. זמן זה כסף, נכון? בוא נצלל ישר לעניין ונמצא את הרכב המושלם עבורך, שישלב ביצועים, סטייל וערך.`,
        `${firstName}, נעים להכיר. אני מבין שאתה אדם שיודע מה הוא רוצה. בוא נעבור על האפשרויות הכי מרשימות שיש לנו להציע לך.`
      ],
      [personalityTypes.BLUE]: [
        `שלום ${firstName}. אני רואה שאתה אדם של פרטים ודיוק. יש לי כמה נתונים מעניינים על מספר רכבים שאני חושב שיעניינו אותך במיוחד.`,
        `היי ${firstName}. אני מניח שאתה מעוניין בניתוח מעמיק של האפשרויות. בוא נבחן יחד את הנתונים והסטטיסטיקות של הרכבים המובילים בקטגוריה.`,
        `${firstName}, נעים להכיר. אני מבין שאתה אוהב לקבל החלטות מבוססות מידע. יש לי כמה השוואות מעניינות בין מודלים שונים שאני חושב שתמצא מועילות.`
      ],
      [personalityTypes.GREEN]: [
        `שלום ${firstName}. אני שמח לראות שאתה מחפש רכב שיתאים לאורח החיים שלך. בוא נדבר על כמה אפשרויות שיכולות להשתלב נהדר עם הצרכים והערכים שלך.`,
        `היי ${firstName}. אני מבין שחשוב לך למצוא רכב שיהיה לא רק אמצעי תחבורה, אלא חלק מהחיים שלך. בוא נחשוב יחד איך אנחנו יכולים למצוא את ההתאמה המושלמת.`,
        `${firstName}, נעים להכיר. אני רואה שאתה אדם שמעריך הרמוניה ואיזון. בוא נדבר על כמה אפשרויות שיכולות להביא שקט נפשי ונוחות לחיי היומיום שלך.`
      ],
      [personalityTypes.YELLOW]: [
        `היי ${firstName}! איזה כיף שהגעת אלינו! אני בטוח שאתה מחפש משהו מיוחד ומרגש. בוא נצא למסע ונגלה יחד איזה רכב יכול להוסיף קצת ריגוש לחיים שלך!`,
        `${firstName}, איזה יופי לפגוש אותך! אני רואה שאתה אדם של הרפתקאות וחוויות. יש לנו כמה אפשרויות מדהימות שאני חושב שיגרמו לך להתרגש ממש!`,
        `וואו ${firstName}, איזה שם מגניב! אני מרגיש שאתה מחפש משהו שיבטא את האישיות הייחודית שלך. בוא נראה איזה רכבים יכולים לעשות את זה בסטייל!`
      ]
    };

    return openings[personalityType][Math.floor(Math.random() * openings[personalityType].length)];
  };

  const generatePersonalizedCarDescription = (car, personalityType) => {
    const descriptions = {
      [personalityTypes.RED]: [
        `ה${car.name} הוא בחירה מצוינת למי שמחפש ביצועים וסטייל. עם ${car.features[0]} ו${car.features[1]}, זה רכב שבהחלט יגרום לך להרגיש במרכז תשומת הלב.`,
        `אם אתה מחפש רכב שמשדר עוצמה, ה${car.name} הוא בדיוק מה שאתה צריך. ה${car.features[2]} שלו יבטיח שתמיד תהיה צעד אחד לפני כולם.`,
        `ה${car.name} לא סתם עוד רכב - זו הצהרה. עם ${car.features[3]} ו${car.features[4]}, זה הרכב שיגרום לכולם להסתובב אחריך ברחוב.`
      ],
      [personalityTypes.BLUE]: [
        `בואו נבחן את הנתונים של ה${car.name}. עם ${car.features[0]} ו${car.features[1]}, הוא מציג ביצועים מרשימים בכל פרמטר.`,
        `מבחינה טכנית, ה${car.name} באמת מצטיין. ה${car.features[2]} שלו הוא מהמתקדמים בקטגוריה, ויחד עם ${car.features[3]}, אתה מקבל רכב שהוא באמת בחזית הטכנולוגיה.`,
        `כשמסתכלים על הנתונים, ה${car.name} באמת בולט. ה${car.features[4]} שלו, בשילוב עם שאר המאפיינים, הופך אותו לבחירה רציונלית ומושכלת.`
      ],
      [personalityTypes.GREEN]: [
        `ה${car.name} הוא רכב שתרגיש איתו בנוח מהרגע הראשון. ה${car.features[0]} וה${car.features[1]} שלו יוצרים חוויית נהיגה נעימה ומרגיעה.`,
        `אם אתה מחפש רכב שישתלב היטב בחיי היומיום שלך, ה${car.name} הוא בחירה נהדרת. ה${car.features[2]} שלו מבטיח נסיעה חלקה ונוחה בכל מצב.`,
        `ה${car.name} הוא לא סתם כלי תחבורה, הוא שותף לחיים. עם ${car.features[3]} ו${car.features[4]}, הוא מציע את האיזון המושלם בין נוחות, בטיחות וידידותיות לסביבה.`
      ],
      [personalityTypes.YELLOW]: [
        `וואו, ה${car.name} הוא פשוט מדהים! עם ${car.features[0]} ו${car.features[1]}, כל נסיעה איתו היא כמו הרפתקה קטנה!`,
        `אתה חייב לראות את ה${car.name} מקרוב! ה${car.features[2]} שלו הוא פשוט מטורף, ואני בטוח שתתאהב ב${car.features[3]} ברגע שתנסה אותו!`,
        `אם אתה מחפש ריגוש, ה${car.name} הוא התשובה! עם ${car.features[4]} ושאר התכונות המטורפות שלו, זה רכב שפשוט אי אפשר להתעלם ממנו!`
      ]
    };

    return descriptions[personalityType][Math.floor(Math.random() * descriptions[personalityType].length)];
  };

  const generateFinancingBenefits = (firstName, personalityType, carPrice) => {
    const maxPayments = 100;
    
    const benefits = {
      [personalityTypes.RED]: `
      ${firstName}, הנה כמה נקודות מפתח לגבי המימון:
      1. אפשרות לפריסה של עד ${maxPayments} תשלומים, המאפשרת לך גמישות מקסימלית.
      2. אפשרות לדחיית תשלום ראשון ב-3 חודשים.
      3. גמישות בפירעון מוקדם ללא קנסות.
      4. ליווי VIP לאורך כל התהליך.
      5. אפשרות ל-Trade-in עם תנאים מועדפים.
      איך זה נשמע לך? מוכן לסגור עסקה?`,
      [personalityTypes.BLUE]: `
      ${firstName}, הנה ניתוח מפורט של אפשרויות המימון:
      1. פריסה לעד ${maxPayments} תשלומים, המאפשרת התאמה מדויקת לתזרים המזומנים שלך.
      2. תקופת החזר גמישה, המאפשרת התאמה לתזרים המזומנים שלך.
      3. אפשרות לדחיית תשלום ראשון - יתרון תזרימי משמעותי.
      4. גמישות בפירעון מוקדם - חיסכון פוטנציאלי בעלויות המימון.
      5. תכנית Trade-in עם הערכת שווי מדויקת לרכבך הנוכחי.
      האם תרצה לראות סימולציה מפורטת של תכנית המימון?`,
      [personalityTypes.GREEN]: `
      ${firstName}, חשבנו על כמה אפשרויות מימון שיתאימו לאורח החיים שלך:
      1. אפשרות לפריסה של עד ${maxPayments} תשלומים, שמאפשרת לך לשמור על איזון תקציבי.
      2. אפשרות להתאים את תקופת ההחזר לצרכים שלך.
      3. תקופת חסד של 3 חודשים בתחילת ההלוואה, שנותנת לך זמן להתארגן.
      4. מסלול "ירוק" עם הטבות למי שבוחר ברכב ידידותי לסביבה.
      5. ליווי אישי לאורך כל הדרך, כולל ייעוץ לגבי האפשרות הטובה ביותר עבורך.
      איך זה נשמע לך? האם יש אפשרות שמדברת אליך במיוחד?`,
      [personalityTypes.YELLOW]: `
      ${firstName}, יש לנו כמה אפשרויות מימון מגניבות במיוחד בשבילך:
      1. אפשרות לפריסה של עד ${maxPayments} תשלומים - פחות ממה שעולה טיול טוב לחו"ל!
      2. אפשרות ל"חופש מימוני" - 3 חודשים ראשונים ללא תשלום, ככה שתוכל ליהנות מהרכב מיד.
      3. תכנית "שדרג וסע" - אפשרות להחליף לדגם חדש כל כמה שנים.
      4. חבילת "הרפתקאות" - כולל טיפולים ואבזור נוסף לטיולים.
      5. מבצע מיוחד לחברים - הבא חבר שקונה רכב ותקבל הנחה נוספת!
      נשמע מרגש, נכון? איזו אפשרות הכי מדליקה אותך?`
    };

    return benefits[personalityType];
  };

  const generatePersonalizedClosing = (firstName, personalityType) => {
    const closings = {
      [personalityTypes.RED]: `
      ${firstName}, נראה שיש לנו כאן התאמה מצוינת. מה דעתך שנקבע פגישה מחר בסוכנות? אני יכול לשריין לך את הרכב ליומיים אם אתה רוצה לסגור מהר. תגיד לי מתי נוח לך ונסדר הכל.`,
      [personalityTypes.BLUE]: `
      ${firstName}, לאור הנתונים שסקרנו, נראה שיש לנו כמה אפשרויות מעולות עבורך. אשמח לשלוח לך ניתוח מפורט של כל האפשרויות במייל, ואם תרצה, נוכל לקבוע פגישה בסוכנות לבדיקה מעמיקה יותר. מה דעתך?`,
      [personalityTypes.GREEN]: `
      ${firstName}, אני מרגיש שמצאנו כמה אפשרויות שבאמת יכולות להתאים לאורח החיים שלך. אם תרצה, נשמח לארגן לך נסיעת מבחן ארוכה יותר, אולי אפילו ליום שלם, כדי שתוכל להרגיש איך הרכב משתלב בשגרה שלך. מתי יהיה לך נוח?`,
      [personalityTypes.YELLOW]: `
      וואו ${firstName}, איזה כיף שיש לנו כל כך הרבה אפשרויות מדליקות! מה דעתך שניפגש מחר בסוכנות? יש לנו אירוע השקה מגניב למודל החדש, עם DJ ומשקאות - זו הזדמנות מעולה לראות את הרכב וגם ליהנות! רוצה שאשריין לך הזמנה?`
    };

    return closings[personalityType];
  };

  const generateScript = (firstName, lastName, age, occupation, carType, isNew, birthdate, budget = null, fuelType = null) => {
    console.log(`generateScript נקרא עם הפרמטרים:`, { firstName, lastName, age, occupation, carType, isNew, birthdate, budget, fuelType });
    
    const numerologyNumber = calculateNumerology(firstName + lastName);
    const zodiacSign = getZodiacSign(birthdate);
    const personalityType = getPersonalityType(zodiacSign, numerologyNumber, occupation);
    const personalityTraits = getPersonalityTraits(occupation);
    const { cars: recommendedCars, minPrice, maxPrice } = getRecommendedCars(carType, isNew, personalityTraits, budget, fuelType, carDatabase);
    const carCondition = isNew ? 'חדש' : 'משומש באיכות גבוהה';

    const opening = generatePersonalizedOpening(firstName, lastName, age, occupation, birthdate, personalityType);
    
    if (recommendedCars.length === 0) {
      console.log('לא נמצאו רכבים מומלצים');
      return `
      ${opening}

      לצערי, לא מצאתי רכבים מתאימים בדיוק לפי הקריטריונים שציינת. 
      האם תרצה לשקול טווח מחירים רחב יותר? אני יכול להציע לך רכבים בטווח שבין ${minPrice.toLocaleString()} ₪ ל-${maxPrice.toLocaleString()} ₪.

      אני כאן לעזור לך למצוא את הרכב המושלם עבורך. בוא ננסה יחד לחשוב על אפשרויות נוספות.
      `;
    }

    console.log(`נמצאו ${recommendedCars.length} רכבים מומלצים`);

    const mainCar = recommendedCars[0];
    const otherCars = recommendedCars.slice(1, 3);

    let script = `
    ${opening}

    בהתחשב במה שסיפרת לי והצרכים שלך, אני חושב שה${mainCar.name} ${carCondition} יכול להיות התאמה מעולה עבורך. 
    המחיר שלו הוא ${mainCar.price.toLocaleString()} ₪, והרכבים שאציג לך נעים בטווח שבין ${minPrice.toLocaleString()} ₪ ל-${maxPrice.toLocaleString()} ₪.

    ${generatePersonalizedCarDescription(mainCar, personalityType)}

    ${mainCar.description}

    ${generateFinancingBenefits(firstName, personalityType, mainCar.price)}

    ${generatePersonalizedClosing(firstName, personalityType)}

    אני כאן לכל שאלה או התלבטות. המטרה שלי היא לעזור לך למצוא את הרכב המושלם, בתנאים שמתאימים בדיוק לך.
    `;

    return script;
  };

  const calculateNumerology = (name) => {
    const hebrewAlphabet = {
      'א': 1, 'ב': 2, 'ג': 3, 'ד': 4, 'ה': 5, 'ו': 6, 'ז': 7, 'ח': 8, 'ט': 9,
      'י': 10, 'כ': 20, 'ל': 30, 'מ': 40, 'נ': 50, 'ס': 60, 'ע': 70, 'פ': 80, 'צ': 90,
      'ק': 100, 'ר': 200, 'ש': 300, 'ת': 400
    };

    let sum = 0;
    for (let char of name) {
      if (hebrewAlphabet[char]) {
        sum += hebrewAlphabet[char];
      }
    }

    while (sum > 9) {
      sum = sum.toString().split('').reduce((a, b) => parseInt(a) + parseInt(b), 0);
    }

    return sum;
  };

  const getZodiacSign = (birthdate) => {
    const [day, month] = birthdate.split('/').map(Number);
    
    if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) return 'טלה';
    if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) return 'שור';
    if ((month === 5 && day >= 21) || (month === 6 && day <= 20)) return 'תאומים';
    if ((month === 6 && day >= 21) || (month === 7 && day <= 22)) return 'סרטן';
    if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) return 'אריה';
    if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) return 'בתולה';
    if ((month === 9 && day >= 23) || (month === 10 && day <= 22)) return 'מאזניים';
    if ((month === 10 && day >= 23) || (month === 11 && day <= 21)) return 'עקרב';
    if ((month === 11 && day >= 22) || (month === 12 && day <= 21)) return 'קשת';
    if ((month === 12 && day >= 22) || (month === 1 && day <= 19)) return 'גדי';
    if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) return 'דלי';
    return 'דגים';
  };

  const getPersonalityTraits = (occupation) => {
    return personalityTraits[occupation] || ['גמיש', 'מסתגל', 'יעיל', 'מקצועי', 'אחראי'];
  };

  const getRecommendedCars = (carType, isNew, personalityTraits, budget = null, fuelType = null, carDatabase) => {
    console.log(`getRecommendedCars נקרא עם הפרמטרים:`, { carType, isNew, personalityTraits, budget, fuelType });
    
    const condition = isNew ? fuelType : 'משומש';
    if (!carDatabase[carType] || !carDatabase[carType][condition]) {
      console.warn(`לא נמצאו רכבים מסוג "${carType}" במצב "${condition}". מחזיר רשימה ריקה.`);
      return { cars: [], minPrice: 0, maxPrice: 0 };
    }
    
    let cars = carDatabase[carType][condition];
    console.log(`נמצאו ${cars.length} רכבים לפני סינון:`, cars);
    
    // מיון רכבים לפי התאמה לתכונות אישיות
    cars.sort((a, b) => {
      const aScore = a.features.filter(feature => personalityTraits.includes(feature)).length;
      const bScore = b.features.filter(feature => personalityTraits.includes(feature)).length;
      return bScore - aScore;
    });
    console.log('רכבים אחרי מיון לפי תכונות אישיות:', cars);

    // סינון לפי תקציב אם הוגדר
    let filteredCars = cars;
    if (budget && budget > 0) {
      filteredCars = cars.filter(car => car.price <= budget);
      console.log(`רכבים אחרי סינון לפי תקציב (עד ${budget}):`, filteredCars);
    }

    const minPrice = filteredCars.length > 0 ? Math.min(...filteredCars.map(car => car.price)) : 0;
    const maxPrice = filteredCars.length > 0 ? Math.max(...filteredCars.map(car => car.price)) : 0;

    console.log(`מחזיר ${filteredCars.length} רכבים מומלצים`);
    return { 
      cars: filteredCars, 
      minPrice: minPrice, 
      maxPrice: maxPrice 
    };
  };

  const [firstName, setFirstName] = useState('');
  const [lastName, setLastName] = useState('');
  const [birthdate, setBirthdate] = useState(null);
  const [birthdateInput, setBirthdateInput] = useState('');
  const [age, setAge] = useState('');
  const [occupation, setOccupation] = useState('');
  const [carType, setCarType] = useState('');
  const [isNew, setIsNew] = useState(true);
  const [analysis, setAnalysis] = useState(null);
  const [expandedCar, setExpandedCar] = useState(null);
  const [errors, setErrors] = useState({});
  const [isLoading, setIsLoading] = useState(false);
  const [showOccupationSuggestions, setShowOccupationSuggestions] = useState(false);
  const [filteredOccupations, setFilteredOccupations] = useState([]);
  const [budget, setBudget] = useState('');
  const [fuelType, setFuelType] = useState('');
  const [priceRange, setPriceRange] = useState([0, 1000000]);

  const occupationInputRef = useRef(null);

  useEffect(() => {
    if (birthdate) {
      const today = new Date();
      let calculatedAge = today.getFullYear() - birthdate.getFullYear();
      const m = today.getMonth() - birthdate.getMonth();
      if (m < 0 || (m === 0 && today.getDate() < birthdate.getDate())) {
        calculatedAge--;
      }
      setAge(calculatedAge.toString());
    }
  }, [birthdate]);

  const handleBirthdateChange = (e) => {
    let value = e.target.value.replace(/\D/g, '');
    if (value.length > 8) value = value.slice(0, 8);
    
    if (value.length > 4) {
      value = `${value.slice(0, 2)}/${value.slice(2, 4)}/${value.slice(4)}`;
    } else if (value.length > 2) {
      value = `${value.slice(0, 2)}/${value.slice(2)}`;
    }
    
    setBirthdateInput(value);
    
    if (value.length === 10) {
      const [day, month, year] = value.split('/');
      const date = new Date(year, month - 1, day);
      if (date instanceof Date && !isNaN(date)) {
        setBirthdate(date);
      }
    } else {
      setBirthdate(null);
    }
  };

  const handleOccupationChange = (e) => {
    const value = e.target.value;
    setOccupation(value);
    
    if (value.length > 0) {
      const matchingOccupations = occupations.filter(occ => 
        occ.toLowerCase().includes(value.toLowerCase())
      );
      setFilteredOccupations(matchingOccupations);
      setShowOccupationSuggestions(true);
    } else {
      setShowOccupationSuggestions(false);
    }
  };

  const selectOccupation = (selectedOccupation) => {
    setOccupation(selectedOccupation);
    setShowOccupationSuggestions(false);
  };

  const handleOccupationKeyDown = (e, selectedOccupation) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      selectOccupation(selectedOccupation);
    }
  };

  const validateForm = () => {
    let errors = {};
    if (!firstName.trim()) errors.firstName = 'שם פרטי הוא שדה חובה';
    if (!lastName.trim()) errors.lastName = 'שם משפחה הוא שדה חובה';
    if (!occupation.trim()) errors.occupation = 'מקצוע הוא שדה חובה';
    if (!carType) errors.carType = 'סוג רכב הוא שדה חובה';
    if (!birthdate) errors.birthdate = 'תאריך לידה הוא שדה חובה';
    if (!fuelType) errors.fuelType = 'סוג דלק הוא שדה חובה';

    if (birthdate) {
      const calculatedAge = parseInt(age);
      if (calculatedAge < 18 || calculatedAge > 80) {
        errors.birthdate = 'גיל חייב להיות בין 18 ל-80';
      }
    }

    setErrors(errors);
    return Object.keys(errors).length === 0;
  };

  const analyzeAndCreateScript = async () => {
    if (!validateForm()) return;

    setIsLoading(true);
    
    // סימולציה של פעולה אסינכרונית
    await new Promise(resolve => setTimeout(resolve, 1500));

    console.log('קריאה ל-generateScript עם הפרמטרים:', {
      firstName,
      lastName,
      age: parseInt(age) || 30,
      occupation,
      carType,
      isNew,
      birthdate: birthdate.toLocaleDateString('he-IL'),
      budget: priceRange[1],
      fuelType
    });

    const script = generateScript(
      firstName,
      lastName,
      parseInt(age) || 30,
      occupation,
      carType,
      isNew,
      birthdate.toLocaleDateString('he-IL'),
      priceRange[1],
      fuelType
    );
    
    const personalityTraits = getPersonalityTraits(occupation);
    const { cars: recommendedCars, minPrice, maxPrice } = getRecommendedCars(carType, isNew, personalityTraits, priceRange[1], fuelType, carDatabase);
    
    setAnalysis({ 
      conversationScript: script,
      mainCar: recommendedCars.length > 0 ? recommendedCars[0] : null,
      otherCars: recommendedCars.slice(1, 3),
      priceRange: { min: minPrice, max: maxPrice }
    });

    setIsLoading(false);
  };

  const resetForm = () => {
    setFirstName('');
    setLastName('');
    setBirthdate(null);
    setBirthdateInput('');
    setAge('');
    setOccupation('');
    setCarType('');
    setIsNew(true);
    setAnalysis(null);
    setExpandedCar(null);
    setErrors({});
    setBudget('');
    setFuelType('');
    setPriceRange([0, 1000000]);
  };

  const toggleCarDetails = (carName) => {
    setExpandedCar(expandedCar === carName ? null : carName);
  };

  const handleKeyPress = (e) => {
    if (e.key === 'Enter') {
      analyzeAndCreateScript();
    }
  };

  return (
    <div className="analyzer-container">
      <h1>מנתח שיחת מימון ומכירת רכב מתקדם</h1>
      <div className="input-group">
        <input 
          type="text" 
          placeholder="שם פרטי" 
          value={firstName} 
          onChange={(e) => setFirstName(e.target.value)}
          onKeyPress={handleKeyPress}
          className={errors.firstName ? 'error' : ''}
        />
        {errors.firstName && <span className="error-message">{errors.firstName}</span>}

        <input 
          type="text" 
          placeholder="שם משפחה" 
          value={lastName} 
          onChange={(e) => setLastName(e.target.value)}
          onKeyPress={handleKeyPress}
          className={errors.lastName ? 'error' : ''}
        />
        {errors.lastName && <span className="error-message">{errors.lastName}</span>}

        <input
          type="text"
          placeholder="תאריך לידה (DD/MM/YYYY)"
          value={birthdateInput}
          onChange={handleBirthdateChange}
          onKeyPress={handleKeyPress}
          className={errors.birthdate ? 'error' : ''}
        />
        {errors.birthdate && <span className="error-message">{errors.birthdate}</span>}

        <div className="occupation-input-container">
          <input 
            type="text" 
            placeholder="מקצוע" 
            value={occupation} 
            onChange={handleOccupationChange}
            onFocus={() => setShowOccupationSuggestions(true)}
            className={errors.occupation ? 'error' : ''}
          />
          {errors.occupation && <span className="error-message">{errors.occupation}</span>}
          {showOccupationSuggestions && (
            <div className="occupation-suggestions">
              {filteredOccupations.map((occ, index) => (
                <div 
                  key={occ} 
                  className="occupation-suggestion"
                  onClick={() => selectOccupation(occ)}
                  tabIndex={0}
                  onKeyDown={(e) => handleOccupationKeyDown(e, occ)}
                >
                  {occ}
                </div>
              ))}
            </div>
          )}
        </div>

        <select 
          value={carType} 
          onChange={(e) => setCarType(e.target.value)}
          onKeyPress={handleKeyPress}
          className={errors.carType ? 'error' : ''}
        >
          <option value="">בחר סוג רכב</option>
          {carTypes.map(type => <option key={type} value={type}>{type}</option>)}
        </select>
        {errors.carType && <span className="error-message">{errors.carType}</span>}

        <select 
          value={fuelType} 
          onChange={(e) => setFuelType(e.target.value)}
          onKeyPress={handleKeyPress}
          className={errors.fuelType ? 'error' : ''}
        >
          <option value="">בחר סוג דלק</option>
          {fuelTypes.map(type => <option key={type} value={type}>{type}</option>)}
        </select>
        {errors.fuelType && <span className="error-message">{errors.fuelType}</span>}

        <div className="price-range-slider">
          <label>טווח מחירים:</label>
          <input
            type="range"
            min="0"
            max="1000000"
            step="10000"
            value={priceRange[1]}
            onChange={(e) => setPriceRange([0, parseInt(e.target.value)])}
          />
          <span>{priceRange[1].toLocaleString()} ₪</span>
        </div>

        <div className="radio-group">
          <label>
            <input 
              type="radio" 
              value="new" 
              checked={isNew} 
              onChange={() => setIsNew(true)} 
            />
            רכב חדש
          </label>
          <label>
            <input 
              type="radio" 
              value="used" 
              checked={!isNew} 
              onChange={() => setIsNew(false)} 
            />
            רכב משומש
          </label>
        </div>
      </div>
      <button onClick={analyzeAndCreateScript} disabled={isLoading}>
        {isLoading ? 'מעבד...' : 'צור תסריט שיחה מתקדם'}
      </button>
      {analysis && (
        <div className="analysis-result">
          <h3>תסריט שיחה מפורט:</h3>
          <pre>{analysis.conversationScript}</pre>
          <h3>רכבים מומלצים:</h3>
          <div className="car-recommendations">
            {analysis.mainCar && (
              <div className="main-car">
                <h4>הרכב המומלץ ביותר:</h4>
                <p>{analysis.mainCar.name}</p>
                <ul>
                  {analysis.mainCar.features.map((feature, idx) => (
                    <li key={idx}>{feature}</li>
                  ))}
                </ul>
                <p>{analysis.mainCar.description}</p>
              </div>
            )}
            <div className="other-cars">
              <h4>אפשרויות נוספות:</h4>
              {analysis.otherCars.map((car, index) => (
                <div key={car.name} className="car-option">
                  <p onClick={() => toggleCarDetails(car.name)} style={{cursor: 'pointer'}}>
                    {car.name} {expandedCar === car.name ? '▼' : '►'}
                  </p>
                  {expandedCar === car.name && (
                    <div>
                      <ul>
                        {car.features.map((feature, idx) => (
                          <li key={idx}>{feature}</li>
                        ))}
                      </ul>
                      <p>{car.description}</p>
                    </div>
                  )}
                </div>
              ))}
            </div>
          </div>
          <button onClick={resetForm}>אפס טופס</button>
        </div>
      )}
    </div>
  );
};

export default CarFinancingConversationAnalyzer;